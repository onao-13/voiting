{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: 'make-event',\n  data: () => ({\n    event: {\n      title: '',\n      name: '',\n      description: '',\n      date: '',\n      total: null\n    }\n  }),\n  methods: {\n    ...mapActions(['CREATE_EVENT_BY_API', 'GET_EVENTS_FROM_API']),\n    checkInputs(event) {\n      const formInputs = document.querySelectorAll('.form__input');\n      for (let input of formInputs) {\n        input.addEventListener('input', function () {\n          input.classList.remove('empty');\n        });\n        if (input.value == '') {\n          input.classList.add('empty');\n        }\n      }\n      for (var key in event) {\n        if (event[key] == \"\") {\n          alert('Заполните, пожалуйста все поля');\n          return false;\n        }\n      }\n      this.createEvent(event);\n    },\n    createEvent(event) {\n      return axios.post(\"https://voiting-server.cfapps.us10-001.hana.ondemand.com/api/voiting/create\", event).then(this.GET_EVENTS_FROM_API()).then(this.$router.push('/events')).catch(error => {\n        console.log(error);\n        return error;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAsEA,SAASA,UAAS,QAAS,MAAM;AACjC,OAAOC,KAAI,MAAO,OAAM;AACxB,eAAe;EACdC,IAAI,EAAE,YAAY;EAElBC,IAAI,EAAC,OAAO;IACXC,KAAK,EAAE;MACNC,KAAK,EAAE,EAAE;MACTH,IAAI,EAAE,EAAE;MACRI,WAAW,EAAE,EAAE;MACfC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE;IACR;EACD,CAAC,CAAC;EAEFC,OAAO,EAAE;IACR,GAAGT,UAAU,CAAC,CACZ,qBAAqB,EACrB,qBAAoB,CACrB,CAAC;IAEFU,WAAW,CAACN,KAAK,EAAE;MACjB,MAAMO,UAAS,GAAIC,QAAQ,CAACC,gBAAgB,CAAC,cAAc;MAC3D,KAAK,IAAIC,KAAI,IAAKH,UAAU,EAAE;QAC5BG,KAAK,CAACC,gBAAgB,CAAC,OAAO,EAAE,YAAW;UACzCD,KAAK,CAACE,SAAS,CAACC,MAAM,CAAC,OAAO;QAChC,CAAC;QACD,IAAIH,KAAK,CAACI,KAAI,IAAK,EAAE,EAAE;UACrBJ,KAAK,CAACE,SAAS,CAACG,GAAG,CAAC,OAAO;QAC7B;MACF;MAEA,KAAK,IAAIC,GAAE,IAAKhB,KAAK,EAAE;QACrB,IAAIA,KAAK,CAACgB,GAAG,KAAK,EAAE,EAAE;UACpBC,KAAK,CAAC,gCAAgC;UACtC,OAAO,KAAI;QACb;MACF;MAEA,IAAI,CAACC,WAAW,CAAClB,KAAK;IACxB,CAAC;IAEDkB,WAAW,CAAClB,KAAK,EAAE;MACjB,OAAOH,KAAI,CACRsB,IAAI,CAAC,6EAA6E,EAAEnB,KAAK,EACzFoB,IAAI,CAAC,IAAI,CAACC,mBAAmB,EAAE,EAC/BD,IAAI,CAAC,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC,SAAS,CAAC,EACjCC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK;QACjB,OAAOA,KAAK;MACd,CAAC;IACL;EACD;AAED","names":["mapActions","axios","name","data","event","title","description","date","total","methods","checkInputs","formInputs","document","querySelectorAll","input","addEventListener","classList","remove","value","add","key","alert","createEvent","post","then","GET_EVENTS_FROM_API","$router","push","catch","error","console","log"],"sourceRoot":"","sources":["C:\\Users\\guzny\\OneDrive\\Рабочий стол\\frontend\\pages\\MakeEvent.vue"],"sourcesContent":["<template>\r\n<main-header>Создание ивента</main-header>\r\n\r\n<div class=\"container\">\r\n <div class=\"event\">\r\n  <div class=\"event__header\">\r\n   <div class=\"event__header_title\">Бюллетень</div>\r\n  </div>\r\n  <div v-html=\"event.description\" class=\"event__description\"></div>\r\n\r\n  <table class=\"event__table\">\r\n   <tr>\r\n    <th>ФИО соискателя</th>\r\n    <th>Достоин ученой степени</th>\r\n    <th>Результаты голосования</th>\r\n   </tr>\r\n   <tr>\r\n    <td>{{event.name}}</td>\r\n    <td>кандидата геолого-минералогических наук</td>\r\n    <td>\r\n     <div class=\"buttons\">\r\n      <button class=\"btn\">ЗА</button>\r\n      <button class=\"btn\">ПРОТИВ</button>\r\n     </div>\r\n    </td>\r\n   </tr>\r\n   <tr>\r\n    <td colspan=\"3\">\r\n     • В графе \"Результаты голосования\" выбрать нужное.\r\n    </td>\r\n   </tr>\r\n  </table>\r\n</div>\r\n<div class=\"event__header\">\r\n <div class=\"event__header_title\">Редактирование</div>\r\n</div>\r\n<form class=\"event__form\">\r\n <div class=\"form__inputs\">\r\n  <label for=\"\">\r\n   Название ивента\r\n  <input class=\"form__input\" v-model=\"event.title\" type=\"text\" name=\"\" id=\"\">\r\n  </label>\r\n  <label for=\"\">\r\n   Дата проведения\r\n   <input class=\"form__input\" v-model=\"event.date\" type=\"text\" name=\"\" id=\"\">\r\n  </label>\r\n  <label for=\"\">\r\n   ФИО кандидата\r\n   <input class=\"form__input\" v-model=\"event.name\" type=\"text\" name=\"\" id=\"\">\r\n  </label>\r\n  <label for=\"\">\r\n   Количество голосующих\r\n   <input form__input v-model=\"event.total\" type=\"number\" name=\"\" id=\"\">\r\n  </label>\r\n </div>\r\n <div class=\"form__textarea\">\r\n  <label for=\"\">\r\n   Описание ивента\r\n   <textarea class=\"form__input\" v-model=\"event.description\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n  </label>\r\n </div>\r\n</form>\r\n\r\n<div class=\"event__buttons\">\r\n <button class=\"btn\" @click=\"checkInputs(event)\">Создать ивент</button>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex';\r\nimport axios from 'axios'\r\nexport default {\r\n name: 'make-event',\r\n\r\n data:() => ({\r\n  event: {\r\n   title: '',\r\n   name: '',\r\n   description: '',\r\n   date: '',\r\n   total: null\r\n  }\r\n }),\r\n\r\n methods: {\r\n  ...mapActions([\r\n    'CREATE_EVENT_BY_API',\r\n    'GET_EVENTS_FROM_API'\r\n  ]),\r\n\r\n  checkInputs(event) {\r\n    const formInputs = document.querySelectorAll('.form__input')\r\n    for (let input of formInputs) {\r\n      input.addEventListener('input', function() {\r\n        input.classList.remove('empty')\r\n      })\r\n      if (input.value == '') {\r\n        input.classList.add('empty')\r\n      }\r\n    }\r\n\r\n    for (var key in event) {\r\n      if (event[key] == \"\") {\r\n        alert('Заполните, пожалуйста все поля')\r\n        return false\r\n      }\r\n    }\r\n\r\n    this.createEvent(event)\r\n  },\r\n\r\n  createEvent(event) {\r\n    return axios\r\n      .post(\"https://voiting-server.cfapps.us10-001.hana.ondemand.com/api/voiting/create\", event)\r\n      .then(this.GET_EVENTS_FROM_API())\r\n      .then(this.$router.push('/events'))\r\n      .catch((error) => {\r\n        console.log(error)\r\n        return error;\r\n      })\r\n  }\r\n },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.event {\r\n text-align: center;\r\n max-width: 800px;\r\n margin: 0 auto;\r\n}\r\n.event__header {\r\n font-size: 20px;\r\n font-weight: 900;\r\n text-align: center;\r\n width: fit-content;\r\n margin: 50px auto 20px auto;\r\n padding: 12px 20px;\r\n border-radius: 5px;\r\n background: rgb(230, 230, 230);\r\n}\r\n\r\n.event__description {\r\n margin-bottom: 30px;\r\n}\r\n\r\n.event__table {\r\n margin: 0 auto;\r\n border-collapse: collapse;\r\n border: 1px solid #000;\r\n\r\n th, td {\r\n  padding: 13px;\r\n  width: 300px;\r\n  max-width: 300px;\r\n  border: 1px solid #000;\r\n }\r\n\r\n td {\r\n  font-size: 17px;\r\n  font-weight: 500;\r\n }\r\n\r\n .buttons {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n  width: fit-content;\r\n  margin: 0 auto;\r\n }\r\n}\r\n\r\n.event__form {\r\n display: flex;\r\n gap: 15px;\r\n display: flex;\r\n gap: 20px;\r\n\r\n label {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  font-size: 18px;\r\n }\r\n\r\n input, textarea {\r\n  border: 1px solid #000;\r\n  padding: 12px 8px 12px 12px;\r\n  font-size: 17px;\r\n  max-width: 100%;\r\n  outline: none;\r\n\r\n  &.empty {\r\n    border: 1px solid red;\r\n  }\r\n }\r\n}\r\n\r\n.form__inputs {\r\n display: flex;\r\n flex-direction: column;\r\n gap: 10px;\r\n width: 50%;\r\n}\r\n\r\n.form__textarea {\r\n width: 50%;\r\n}\r\n.event__buttons {\r\n display: flex;\r\n justify-content: center;\r\n gap: 10px;\r\n padding: 40px 0;\r\n}\r\n.event__data {\r\n display: flex;\r\n gap: 20px;\r\n}\r\n\r\n.event__data_passwords {\r\n padding: 20px;\r\n border-radius: 10px;\r\n background: rgb(228, 228, 228);\r\n display: flex;\r\n flex-direction: column;\r\n max-height: 400px;\r\n overflow: auto;\r\n\r\n div {\r\n  padding: 5px 0;\r\n }\r\n}\r\n.event__data_passwords-title {\r\n font-size: 17px;\r\n font-weight: 700;\r\n}\r\n\r\n.event__data_link-title {\r\n font-size: 17px;\r\n font-weight: 700;\r\n padding-bottom: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}