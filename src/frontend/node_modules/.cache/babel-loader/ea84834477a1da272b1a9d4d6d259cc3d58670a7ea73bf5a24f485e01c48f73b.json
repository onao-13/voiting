{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar tslib_1 = require(\"tslib\");\nvar zrender = require(\"zrender/lib/zrender\");\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar colorTool = require(\"zrender/lib/tool/color\");\nvar env_1 = require(\"zrender/lib/core/env\");\nvar timsort_1 = require(\"zrender/lib/core/timsort\");\nvar Eventful_1 = require(\"zrender/lib/core/Eventful\");\nvar Global_1 = require(\"./model/Global\");\nvar ExtensionAPI_1 = require(\"./ExtensionAPI\");\nvar CoordinateSystem_1 = require(\"./CoordinateSystem\");\nvar OptionManager_1 = require(\"./model/OptionManager\");\nvar backwardCompat_1 = require(\"./preprocessor/backwardCompat\");\nvar dataStack_1 = require(\"./processor/dataStack\");\nvar Component_1 = require(\"./model/Component\");\nvar Series_1 = require(\"./model/Series\");\nvar Component_2 = require(\"./view/Component\");\nvar Chart_1 = require(\"./view/Chart\");\nvar graphic = require(\"./util/graphic\");\nvar innerStore_1 = require(\"./util/innerStore\");\nvar states_1 = require(\"./util/states\");\nvar modelUtil = require(\"./util/model\");\nvar throttle_1 = require(\"./util/throttle\");\nvar style_1 = require(\"./visual/style\");\nvar default_1 = require(\"./loading/default\");\nvar Scheduler_1 = require(\"./stream/Scheduler\");\nvar light_1 = require(\"./theme/light\");\nvar dark_1 = require(\"./theme/dark\");\nrequire(\"./component/dataset\");\nvar mapDataStorage_1 = require(\"./coord/geo/mapDataStorage\");\nvar clazz_1 = require(\"./util/clazz\");\nvar ECEventProcessor_1 = require(\"./util/ECEventProcessor\");\nvar symbol_1 = require(\"./visual/symbol\");\nvar helper_1 = require(\"./visual/helper\");\nvar LabelManager_1 = require(\"./label/LabelManager\");\nvar log_1 = require(\"./util/log\");\nvar dataSelectAction_1 = require(\"./legacy/dataSelectAction\");\nrequire(\"zrender/lib/canvas/canvas\");\nvar transform_1 = require(\"./data/helper/transform\");\nvar locale_1 = require(\"./locale\");\nvar event_1 = require(\"./util/event\");\nvar decal_1 = require(\"./visual/decal\");\nvar assert = zrUtil.assert;\nvar each = zrUtil.each;\nvar isFunction = zrUtil.isFunction;\nvar isObject = zrUtil.isObject;\nexports.version = '5.0.0';\nexports.dependencies = {\n  zrender: '5.0.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexports.PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar OPTION_UPDATED_KEY = '__optionUpdated';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful_1[\"default\"].prototype[method].apply(host, args);\n}\nvar MessageCenter = function (_super) {\n  tslib_1.__extends(MessageCenter, _super);\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return MessageCenter;\n}(Eventful_1[\"default\"]);\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar clearColorPalette;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar performPostUpdateFuncs;\nvar createExtensionAPI;\nvar enableConnect;\nvar setTransitionOpt;\nvar markStatusToUpdate;\nvar applyChangedStates;\nvar ECharts = function (_super) {\n  tslib_1.__extends(ECharts, _super);\n  function ECharts(dom, theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor_1.ECEventProcessor()) || this;\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    _this._pendingActions = [];\n    opts = opts || {};\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n    _this._dom = dom;\n    var root = typeof window === 'undefined' ? global : window;\n    var defaultRenderer = 'canvas';\n    var defaultUseDirtyRect = false;\n    if (process.env.NODE_ENV !== 'production') {\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\n    }\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      useDirtyRect: opts.useDirtyRect == null ? defaultUseDirtyRect : opts.useDirtyRect\n    });\n    _this._throttledZrFlush = throttle_1.throttle(zrUtil.bind(zr.flush, zr), 17);\n    theme = zrUtil.clone(theme);\n    theme && backwardCompat_1[\"default\"](theme, true);\n    _this._theme = theme;\n    _this._locale = locale_1.createLocaleObject(opts.locale || locale_1.SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystem_1[\"default\"]();\n    var api = _this._api = createExtensionAPI(_this);\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n    timsort_1[\"default\"](visualFuncs, prioritySortFunc);\n    timsort_1[\"default\"](dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler_1[\"default\"](_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    _this._labelManager = new LabelManager_1[\"default\"]();\n    _this._initEvents();\n    _this.resize = zrUtil.bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    zrUtil.setAsPrimitive(_this);\n    return _this;\n  }\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n    if (this[OPTION_UPDATED_KEY]) {\n      var silent = this[OPTION_UPDATED_KEY].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n      this._zr.flush();\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[OPTION_UPDATED_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } else if (scheduler.unfinished) {\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain');\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n    }\n  };\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`setOption` should not be called during main process.');\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1[\"default\"](this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global_1[\"default\"]();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n    setTransitionOpt(this, transitionOpt);\n    if (lazyUpdate) {\n      this[OPTION_UPDATED_KEY] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this.getZr().wakeUp();\n    } else {\n      prepare(this);\n      updateMethods.update.call(this);\n      this._zr.flush();\n      this[OPTION_UPDATED_KEY] = false;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  ECharts.prototype.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n    opts = zrUtil.extend({}, opts || {});\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr;\n    return zr.painter.getRenderedCanvas(opts);\n  };\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env_1[\"default\"].svgSupported) {\n      return;\n    }\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    zrUtil.each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || 1;\n      zrUtil.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(zrUtil.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = zrUtil.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    zrUtil.each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        console.warn('There is no specified seires model');\n      }\n    }\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? helper_1.getItemVisualFromData(data, dataIndexInside, visualType) : helper_1.getVisualFromData(data, visualType);\n  };\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && event_1.findEventDispatcher(el, function (parent) {\n            var ecData = innerStore_1.getECData(parent);\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\n              return true;\n            } else if (ecData.eventData) {\n              params = zrUtil.extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          if (process.env.NODE_ENV !== 'production') {\n            if (!isGlobalOut && !(model && view)) {\n              console.warn('model or view can not be found by params');\n            }\n          }\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          _this.trigger(eveName, params);\n        }\n      };\n      handler.zrEventfulCallAtLast = true;\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    dataSelectAction_1.handleLegacySelectEvents(this._messageCenter, this, this._model);\n  };\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this.setOption({\n      series: []\n    }, true);\n  };\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._disposed = true;\n    modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n    this._zr.dispose();\n    delete instances[this.id];\n  };\n  ECharts.prototype.resize = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`resize` should not be called during main process.');\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._zr.resize(opts);\n    var ecModel = this._model;\n    this._loadingFX && this._loadingFX.resize();\n    if (!ecModel) {\n      return;\n    }\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS_KEY] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this, {\n      type: 'resize',\n      animation: {\n        duration: 0\n      }\n    });\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n    name = name || 'default';\n    this.hideLoading();\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Loading effects ' + name + ' not exists.');\n      }\n      return;\n    }\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = zrUtil.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n    if (!actions[payload.type]) {\n      return;\n    }\n    if (!this._model) {\n      return;\n    }\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n      return;\n    }\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env_1[\"default\"].browser.weChat) {\n      this._throttledZrFlush();\n    }\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.updateLabelLayout = function () {\n    var labelManager = this._labelManager;\n    labelManager.updateLayoutConfig(this._api);\n    labelManager.layout(this._api);\n    labelManager.processLabelsOverall();\n  };\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n    seriesModel.appendData(params);\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n      function doPrepare(model) {\n        var requireNewView = model.__requireNewView;\n        model.__requireNewView = false;\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n        if (!view) {\n          var classType = clazz_1.parseClassType(model.type);\n          var Clazz = isComponent ? Component_2[\"default\"].getClass(classType.main, classType.sub) : Chart_1[\"default\"].getClass(classType.sub);\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n      if (!mainType) {\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType);\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = zrUtil.createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        if (!excludeSeriesIdMap || excludeSeriesIdMap.get(model.id) == null) {\n          if (states_1.isHighDownPayload(payload) && !payload.notBlur) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSeriesBlurStateFromPayload(model, payload, ecIns._api);\n            }\n          } else if (states_1.isSelectChangePayload(payload)) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSelectionFromPayload(model, payload, ecIns._api);\n              states_1.updateSeriesElementSelection(model);\n              markStatusToUpdate(ecIns);\n            }\n          }\n          callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n        }\n      }, ecIns);\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload);\n      },\n      update: function (payload) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        updateStreamModes(this, ecModel);\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload);\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n        if (!env_1[\"default\"].canvasSupported) {\n          var colorArr = colorTool.parse(backgroundColor);\n          backgroundColor = colorTool.stringify(colorArr, 'rgb');\n          if (colorArr[3] === 0) {\n            backgroundColor = 'transparent';\n          }\n        } else {\n          zr.setBackgroundColor(backgroundColor);\n          if (darkMode != null && darkMode !== 'auto') {\n            zr.setDarkMode(darkMode);\n          }\n        }\n        performPostUpdateFuncs(ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n        var ecModel = this._model;\n        var api = this._api;\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n          var componentView = _this.getViewOfComponentModel(componentModel);\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = zrUtil.createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n        renderSeries(this, ecModel, api, payload, seriesDirtyMap);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n        render(this, this._model, this._api, payload);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        var _this = this;\n        var ecModel = this._model;\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n      var ecModel = ecIns._model;\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && clazz_1.parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false;\n      if (payload.batch) {\n        batched = true;\n        payloads = zrUtil.map(payload.batch, function (item) {\n          item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = states_1.isSelectChangePayload(payload);\n      var isStatusChange = states_1.isHighDownPayload(payload) || isSelectChange;\n      each(payloads, function (batchItem) {\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api);\n        eventObj = eventObj || zrUtil.extend({}, batchItem);\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n        if (isStatusChange) {\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n      if (updateMethod !== 'none' && !isStatusChange && !cptType) {\n        if (this[OPTION_UPDATED_KEY]) {\n          prepare(this);\n          updateMethods.update.call(this, payload);\n          this[OPTION_UPDATED_KEY] = false;\n        } else {\n          updateMethods[updateMethod].call(this, payload);\n        }\n      }\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n      this[IN_MAIN_PROCESS_KEY] = false;\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj);\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: states_1.getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n        if (zr.animation.isFinished() && !ecIns[OPTION_UPDATED_KEY] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, true);\n          states_1.enterEmphasisWhenMouseOver(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, false);\n          states_1.leaveEmphasisWhenMouseOut(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, function (target) {\n          return innerStore_1.getECData(target).dataIndex != null;\n        }, true);\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = innerStore_1.getECData(dispatcher);\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n    clearColorPalette = function (ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    };\n    render = function (ecIns, ecModel, api, payload) {\n      renderComponents(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n    renderComponents = function (ecIns, ecModel, api, payload, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n    renderSeries = function (ecIns, ecModel, api, payload, dirtyMap) {\n      var scheduler = ecIns._scheduler;\n      var labelManager = ecIns._labelManager;\n      labelManager.clearLabels();\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        clearStates(seriesModel, chartView);\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n        seriesModel.__transientTransitionOpt = null;\n        chartView.group.silent = !!seriesModel.get('silent');\n        updateBlend(seriesModel, chartView);\n        states_1.updateSeriesElementSelection(seriesModel);\n        labelManager.addLabelsOfSeries(chartView);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      labelManager.updateLayoutConfig(api);\n      labelManager.layout(api);\n      labelManager.processLabelsOverall();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        updateZ(seriesModel, chartView);\n        updateStates(seriesModel, chartView);\n      });\n      updateHoverLayerStatus(ecIns, ecModel);\n    };\n    performPostUpdateFuncs = function (ecModel, api) {\n      each(postUpdateFuncs, function (func) {\n        func(ecModel, api);\n      });\n    };\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      ecIns.getZr().wakeUp();\n    };\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n      ecIns.getZr().storage.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n      if (el.hoverState === states_1.HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === states_1.HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n      el.useStates(newStates);\n    }\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env_1[\"default\"].node && !env_1[\"default\"].worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n          if (chartView.__alive) {\n            chartView.group.traverse(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n    ;\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n      if (process.env.NODE_ENV !== 'production') {\n        if (!env_1[\"default\"].canvasSupported && blendMode && blendMode !== 'source-over') {\n          console.warn('Only canvas support blendMode');\n        }\n      }\n      chartView.group.traverse(function (el) {\n        if (!el.isGroup) {\n          el.style.blend = blendMode;\n        }\n        if (el.eachPendingDisplayable) {\n          el.eachPendingDisplayable(function (displayable) {\n            displayable.style.blend = blendMode;\n          });\n        }\n      });\n    }\n    ;\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n      var z = model.get('z');\n      var zlevel = model.get('zlevel');\n      view.group.traverse(function (el) {\n        if (!el.isGroup) {\n          z != null && (el.z = z);\n          zlevel != null && (el.zlevel = zlevel);\n          var label = el.getTextContent();\n          var labelLine = el.getTextGuideLine();\n          if (label) {\n            label.z = el.z;\n            label.zlevel = el.zlevel;\n            label.z2 = el.z2 + 2;\n          }\n          if (labelLine) {\n            var showAbove = el.textGuideLineConfig && el.textGuideLineConfig.showAbove;\n            labelLine.z = el.z;\n            labelLine.zlevel = el.zlevel;\n            labelLine.z2 = el.z2 + (showAbove ? 1 : -1);\n          }\n        }\n      });\n    }\n    ;\n    function clearStates(model, view) {\n      view.group.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n      } : null;\n      view.group.traverse(function (el) {\n        if (el.states && el.states.emphasis) {\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n          if (el instanceof graphic.Path) {\n            states_1.savePathStates(el);\n          }\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n    ;\n    createExtensionAPI = function (ecIns) {\n      return new (function (_super) {\n        tslib_1.__extends(class_1, _super);\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n            el = el.parent;\n          }\n        };\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          states_1.enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          states_1.leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterBlur = function (el) {\n          states_1.enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveBlur = function (el) {\n          states_1.leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterSelect = function (el) {\n          states_1.enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveSelect = function (el) {\n          states_1.leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n        return class_1;\n      }(ExtensionAPI_1[\"default\"]))(ecIns);\n    };\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n    setTransitionOpt = function (chart, transitionOpt) {\n      var ecModel = chart._model;\n      zrUtil.each(modelUtil.normalizeToArray(transitionOpt), function (transOpt) {\n        var errMsg;\n        var fromOpt = transOpt.from;\n        var toOpt = transOpt.to;\n        if (toOpt == null) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.to` must be specified.';\n          }\n          log_1.throwError(errMsg);\n        }\n        var finderOpt = {\n          includeMainTypes: ['series'],\n          enableAll: false,\n          enableNone: false\n        };\n        var fromResult = fromOpt ? modelUtil.parseFinder(ecModel, fromOpt, finderOpt) : null;\n        var toResult = modelUtil.parseFinder(ecModel, toOpt, finderOpt);\n        var toSeries = toResult.seriesModel;\n        if (toSeries == null) {\n          errMsg = '';\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition` is only supported on series.';\n          }\n        }\n        if (fromResult && fromResult.seriesModel !== toSeries) {\n          errMsg = '';\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.from` and `transition.to` must be specified to the same series.';\n          }\n        }\n        if (errMsg != null) {\n          log_1.throwError(errMsg);\n        }\n        toSeries.__transientTransitionOpt = {\n          from: fromOpt ? fromOpt.dimension : null,\n          to: toOpt.dimension,\n          dividingMethod: transOpt.dividingMethod\n        };\n      });\n    };\n  }();\n  return ECharts;\n}(Eventful_1[\"default\"]);\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  log_1.deprecateLog('ECharts#one is deprecated.');\n  function wrapped() {\n    var args2 = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n    cb && cb.apply && cb.apply(this, args2);\n    self.off(eventName, wrapped);\n  }\n  ;\n  this.on.call(this, eventName, wrapped, ctx);\n};\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Instance ' + id + ' has been disposed');\n  }\n}\nvar actions = {};\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar postInitFuncs = [];\nvar postUpdateFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\nfunction init(dom, theme, opts) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!dom) {\n      throw new Error('Initialize failed: invalid dom.');\n    }\n  }\n  var existInstance = getInstanceByDom(dom);\n  if (existInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('There is a chart instance already initialized on the dom.');\n    }\n    return existInstance;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (zrUtil.isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n      console.warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n    }\n  }\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  each(postInitFuncs, function (postInitFunc) {\n    postInitFunc(chart);\n  });\n  return chart;\n}\nexports.init = init;\nfunction connect(groupId) {\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n  connectedGroups[groupId] = true;\n  return groupId;\n}\nexports.connect = connect;\nfunction disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\nexports.disConnect = disConnect;\nexports.disconnect = disConnect;\nfunction dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    chart = getInstanceByDom(chart);\n  }\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\nexports.dispose = dispose;\nfunction getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\nexports.getInstanceByDom = getInstanceByDom;\nfunction getInstanceById(key) {\n  return instances[key];\n}\nexports.getInstanceById = getInstanceById;\nfunction registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\nexports.registerTheme = registerTheme;\nfunction registerPreprocessor(preprocessorFunc) {\n  optionPreprocessorFuncs.push(preprocessorFunc);\n}\nexports.registerPreprocessor = registerPreprocessor;\nfunction registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\nexports.registerProcessor = registerProcessor;\nfunction registerPostInit(postInitFunc) {\n  postInitFunc && postInitFuncs.push(postInitFunc);\n}\nexports.registerPostInit = registerPostInit;\nfunction registerPostUpdate(postUpdateFunc) {\n  postUpdateFunc && postUpdateFuncs.push(postUpdateFunc);\n}\nexports.registerPostUpdate = registerPostUpdate;\nfunction registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0];\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n  eventActionMap[eventName] = actionType;\n}\nexports.registerAction = registerAction;\nfunction registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystem_1[\"default\"].register(type, coordSysCreator);\n}\nexports.registerCoordinateSystem = registerCoordinateSystem;\nfunction getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystem_1[\"default\"].get(type);\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\nvar locale_2 = require(\"./locale\");\nexports.registerLocale = locale_2.registerLocale;\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\nexports.registerLayout = registerLayout;\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\nexports.registerVisual = registerVisual;\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n  var stageHandler = Scheduler_1[\"default\"].wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\nfunction registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\nexports.registerLoading = registerLoading;\nfunction extendComponentModel(proto) {\n  return Component_1[\"default\"].extend(proto);\n}\nexports.extendComponentModel = extendComponentModel;\nfunction extendComponentView(proto) {\n  return Component_2[\"default\"].extend(proto);\n}\nexports.extendComponentView = extendComponentView;\nfunction extendSeriesModel(proto) {\n  return Series_1[\"default\"].extend(proto);\n}\nexports.extendSeriesModel = extendSeriesModel;\nfunction extendChartView(proto) {\n  return Chart_1[\"default\"].extend(proto);\n}\nexports.extendChartView = extendChartView;\nfunction setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\nexports.setCanvasCreator = setCanvasCreator;\nfunction registerMap(mapName, geoJson, specialAreas) {\n  mapDataStorage_1[\"default\"].registerMap(mapName, geoJson, specialAreas);\n}\nexports.registerMap = registerMap;\nfunction getMap(mapName) {\n  var records = mapDataStorage_1[\"default\"].retrieveMap(mapName);\n  return records && records[0] && {\n    geoJson: records[0].geoJSON,\n    specialAreas: records[0].specialAreas\n  };\n}\nexports.getMap = getMap;\nexports.registerTransform = transform_1.registerExternalTransform;\nregisterVisual(PRIORITY_VISUAL_GLOBAL, style_1.seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, symbol_1.seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, symbol_1.dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal_1[\"default\"]);\nregisterPreprocessor(backwardCompat_1[\"default\"]);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack_1[\"default\"]);\nregisterLoading('default', default_1[\"default\"]);\nregisterAction({\n  type: states_1.HIGHLIGHT_ACTION_TYPE,\n  event: states_1.HIGHLIGHT_ACTION_TYPE,\n  update: states_1.HIGHLIGHT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.DOWNPLAY_ACTION_TYPE,\n  event: states_1.DOWNPLAY_ACTION_TYPE,\n  update: states_1.DOWNPLAY_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.SELECT_ACTION_TYPE,\n  event: states_1.SELECT_ACTION_TYPE,\n  update: states_1.SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.UNSELECT_ACTION_TYPE,\n  event: states_1.UNSELECT_ACTION_TYPE,\n  update: states_1.UNSELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  event: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  update: states_1.TOGGLE_SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterTheme('light', light_1[\"default\"]);\nregisterTheme('dark', dark_1[\"default\"]);\nexports.dataTool = {};","map":{"version":3,"names":["tslib_1","require","zrender","zrUtil","colorTool","env_1","timsort_1","Eventful_1","Global_1","ExtensionAPI_1","CoordinateSystem_1","OptionManager_1","backwardCompat_1","dataStack_1","Component_1","Series_1","Component_2","Chart_1","graphic","innerStore_1","states_1","modelUtil","throttle_1","style_1","default_1","Scheduler_1","light_1","dark_1","mapDataStorage_1","clazz_1","ECEventProcessor_1","symbol_1","helper_1","LabelManager_1","log_1","dataSelectAction_1","transform_1","locale_1","event_1","decal_1","assert","each","isFunction","isObject","exports","version","dependencies","TEST_FRAME_REMAIN_TIME","PRIORITY_PROCESSOR_SERIES_FILTER","PRIORITY_PROCESSOR_DATASTACK","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_DEFAULT","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_PROGRESSIVE_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_CHART_DATA_CUSTOM","PRIORITY_VISUAL_POST_CHART_LAYOUT","PRIORITY_VISUAL_BRUSH","PRIORITY_VISUAL_ARIA","PRIORITY_VISUAL_DECAL","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","GLOBAL","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","CHART_ITEM","ARIA","DECAL","IN_MAIN_PROCESS_KEY","OPTION_UPDATED_KEY","STATUS_NEEDS_UPDATE_KEY","ACTION_REG","CONNECT_STATUS_KEY","CONNECT_STATUS_PENDING","CONNECT_STATUS_UPDATING","CONNECT_STATUS_UPDATED","createRegisterEventWithLowercaseECharts","method","args","_i","arguments","length","isDisposed","disposedWarning","id","toLowercaseNameAndCallEventful","createRegisterEventWithLowercaseMessageCenter","host","toLowerCase","prototype","apply","MessageCenter","_super","__extends","messageCenterProto","on","off","prepare","prepareView","updateDirectly","updateMethods","doConvertPixel","updateStreamModes","doDispatchAction","flushPendingActions","triggerUpdatedEvent","bindRenderedEvent","bindMouseEvent","clearColorPalette","render","renderComponents","renderSeries","performPostUpdateFuncs","createExtensionAPI","enableConnect","setTransitionOpt","markStatusToUpdate","applyChangedStates","ECharts","dom","theme","opts","_this","call","ECEventProcessor","_chartsViews","_chartsMap","_componentsViews","_componentsMap","_pendingActions","themeStorage","_dom","root","window","global","defaultRenderer","defaultUseDirtyRect","process","env","NODE_ENV","__ECHARTS__DEFAULT__RENDERER__","devUseDirtyRect","__ECHARTS__DEFAULT__USE_DIRTY_RECT__","zr","_zr","init","renderer","devicePixelRatio","width","height","useDirtyRect","_throttledZrFlush","throttle","bind","flush","clone","_theme","_locale","createLocaleObject","locale","SYSTEM_LANG","_coordSysMgr","api","_api","prioritySortFunc","a","b","__prio","visualFuncs","dataProcessorFuncs","_scheduler","_messageCenter","_labelManager","_initEvents","resize","animation","_onframe","setAsPrimitive","_disposed","scheduler","silent","update","unfinished","remainTime","ecModel","_model","startTime","Date","performSeriesTasks","performDataProcessorTasks","performVisualTasks","getDom","getId","getZr","setOption","option","notMerge","lazyUpdate","replaceMerge","transitionOpt","transition","optionManager","optionPreprocessorFuncs","wakeUp","setTheme","console","error","getModel","getOption","getWidth","getHeight","getDevicePixelRatio","painter","dpr","getRenderedCanvas","canvasSupported","extend","pixelRatio","backgroundColor","get","getSvgDataURL","svgSupported","list","storage","getDisplayList","el","stopAnimation","toDataURL","getDataURL","excludeComponents","excludesComponentViews","self","componentType","eachComponent","mainType","component","view","__viewId","group","ignore","push","url","getType","type","getConnectedDataURL","isSvg","groupId","mathMin","Math","min","mathMax","max","MAX_NUMBER","Infinity","connectedGroups","left_1","top_1","right_1","bottom_1","canvasList_1","dpr_1","instances","chart","canvas","getSvgDom","innerHTML","boundingRect","getBoundingClientRect","left","top","right","bottom","targetCanvas","createCanvas","zr_1","content_1","item","x","y","getSvgRoot","connectedBackgroundColor","setBackgroundColor","refreshImmediately","add","Rect","shape","style","fill","img","Image","image","convertToPixel","finder","value","convertFromPixel","containPixel","result","findResult","parseFinder","models","key","indexOf","model","coordSys","coordinateSystem","containPoint","warn","getVisual","visualType","parsedFinder","defaultMainType","seriesModel","data","getData","dataIndexInside","hasOwnProperty","indexOfRawIndex","dataIndex","getItemVisualFromData","getVisualFromData","getViewOfComponentModel","componentModel","getViewOfSeriesModel","MOUSE_EVENT_NAMES","eveName","handler","e","target","params","isGlobalOut","findEventDispatcher","parent","ecData","getECData","dataModel","getSeriesByIndex","seriesIndex","getDataParams","dataType","eventData","componentIndex","getComponent","event","_$eventProcessor","eventInfo","targetEl","packedEvent","trigger","zrEventfulCallAtLast","eventActionMap","actionType","eventType","handleLegacySelectEvents","clear","series","dispose","setAttribute","DOM_ATTRIBUTE_KEY","_loadingFX","optionChanged","resetOption","duration","showLoading","name","cfg","hideLoading","loadingEffects","remove","makeActionFromEvent","eventObj","payload","dispatchAction","opt","actions","browser","weChat","updateLabelLayout","labelManager","updateLayoutConfig","layout","processLabelsOverall","appendData","internalField","ecIns","restorePipelines","prepareStageTasks","plan","isComponent","viewList","viewMap","i","__alive","doPrepare","eachSeries","requireNewView","__requireNewView","viewId","classType","parseClassType","Clazz","getClass","main","sub","__id","__model","__ecComponentInfo","index","renderTask","splice","subType","setUpdatePayload","concat","callView","query","condition","excludeSeriesId","excludeSeriesIdMap","createHashMap","normalizeToArray","modelId","convertOptionIdName","set","isHighDownPayload","notBlur","toggleSeriesBlurStateFromPayload","isSelectChangePayload","toggleSelectionFromPayload","updateSeriesElementSelection","prepareAndUpdate","coordSysMgr","restoreData","create","darkMode","colorArr","parse","stringify","setDarkMode","updateTransform","componentDirtyList","componentView","seriesDirtyMap","chartView","uid","setDirty","dirtyMap","updateView","markUpdateMethod","updateVisual","clearAllVisual","updateLayout","methodName","coordSysList","getCoordinateSystems","chartsMap","payloadType","escapeConnect","actionWrap","actionInfo","cptTypeTmp","split","updateMethod","pop","cptType","payloads","batched","batch","map","defaults","eventObjBatch","isSelectChange","isStatusChange","batchItem","action","messageCenter","newObj","selected","getAllSelectedIndices","isFromClick","fromAction","fromActionPayload","pendingActions","shift","isFinished","dispatcher","isHighDownDispatcher","toggleSeriesBlurState","focus","blurScope","enterEmphasisWhenMouseOver","leaveEmphasisWhenMouseOut","dirtyList","clearStates","updateZ","updateStates","clearLabels","updatePayload","dirty","perform","getPerformArgs","__transientTransitionOpt","updateBlend","addLabelsOfSeries","updateHoverLayerStatus","postUpdateFuncs","func","traverse","isElementRemoved","applyElementStates","newStates","oldStates","currentStates","stateName","states","select","hoverState","HOVER_STATE_EMPHASIS","emphasis","HOVER_STATE_BLUR","blur","useStates","elCount","isGroup","node","worker","preventUsingHoverLayer","hoverLayer","blendMode","blend","eachPendingDisplayable","displayable","preventAutoZ","z","zlevel","label","getTextContent","labelLine","getTextGuideLine","z2","showAbove","textGuideLineConfig","textContent","textGuide","stateTransition","hasState","prevStates","stateAnimationModel","enableAnimation","isAnimationEnabled","delay","easing","Path","savePathStates","__dirty","class_1","getComponentByElement","modelInfo","enterEmphasis","highlightDigit","leaveEmphasis","enterBlur","leaveBlur","enterSelect","leaveSelect","updateConnectedChartsStatus","charts","status","otherChart","action_1","otherCharts_1","transOpt","errMsg","fromOpt","from","toOpt","to","throwError","finderOpt","includeMainTypes","enableAll","enableNone","fromResult","toResult","toSeries","dimension","dividingMethod","echartsProto","one","eventName","cb","ctx","deprecateLog","wrapped","args2","postInitFuncs","idBase","groupIdBase","Error","existInstance","getInstanceByDom","isDom","nodeName","toUpperCase","clientWidth","clientHeight","postInitFunc","connect","isArray","disConnect","disconnect","getAttribute","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerPostInit","registerPostUpdate","postUpdateFunc","registerAction","test","registerCoordinateSystem","coordSysCreator","register","getCoordinateSystemDimensions","getDimensionsInfo","dimensions","slice","locale_2","registerLocale","registerLayout","layoutTask","registerVisual","visualTask","targetList","fn","defaultPriority","isNaN","wrap","__raw","stageHandler","wrapStageHandler","registerLoading","loadingFx","extendComponentModel","proto","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","$override","registerMap","mapName","geoJson","specialAreas","getMap","records","retrieveMap","geoJSON","registerTransform","registerExternalTransform","seriesStyleTask","dataStyleTask","dataColorPaletteTask","seriesSymbolTask","dataSymbolTask","HIGHLIGHT_ACTION_TYPE","noop","DOWNPLAY_ACTION_TYPE","SELECT_ACTION_TYPE","UNSELECT_ACTION_TYPE","TOGGLE_SELECT_ACTION_TYPE","dataTool"],"sources":["C:/Users/guzny/OneDrive/Рабочий стол/frontend/node_modules/echarts/lib/echarts.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n\"use strict\";\n\nvar tslib_1 = require(\"tslib\");\n\nvar zrender = require(\"zrender/lib/zrender\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorTool = require(\"zrender/lib/tool/color\");\n\nvar env_1 = require(\"zrender/lib/core/env\");\n\nvar timsort_1 = require(\"zrender/lib/core/timsort\");\n\nvar Eventful_1 = require(\"zrender/lib/core/Eventful\");\n\nvar Global_1 = require(\"./model/Global\");\n\nvar ExtensionAPI_1 = require(\"./ExtensionAPI\");\n\nvar CoordinateSystem_1 = require(\"./CoordinateSystem\");\n\nvar OptionManager_1 = require(\"./model/OptionManager\");\n\nvar backwardCompat_1 = require(\"./preprocessor/backwardCompat\");\n\nvar dataStack_1 = require(\"./processor/dataStack\");\n\nvar Component_1 = require(\"./model/Component\");\n\nvar Series_1 = require(\"./model/Series\");\n\nvar Component_2 = require(\"./view/Component\");\n\nvar Chart_1 = require(\"./view/Chart\");\n\nvar graphic = require(\"./util/graphic\");\n\nvar innerStore_1 = require(\"./util/innerStore\");\n\nvar states_1 = require(\"./util/states\");\n\nvar modelUtil = require(\"./util/model\");\n\nvar throttle_1 = require(\"./util/throttle\");\n\nvar style_1 = require(\"./visual/style\");\n\nvar default_1 = require(\"./loading/default\");\n\nvar Scheduler_1 = require(\"./stream/Scheduler\");\n\nvar light_1 = require(\"./theme/light\");\n\nvar dark_1 = require(\"./theme/dark\");\n\nrequire(\"./component/dataset\");\n\nvar mapDataStorage_1 = require(\"./coord/geo/mapDataStorage\");\n\nvar clazz_1 = require(\"./util/clazz\");\n\nvar ECEventProcessor_1 = require(\"./util/ECEventProcessor\");\n\nvar symbol_1 = require(\"./visual/symbol\");\n\nvar helper_1 = require(\"./visual/helper\");\n\nvar LabelManager_1 = require(\"./label/LabelManager\");\n\nvar log_1 = require(\"./util/log\");\n\nvar dataSelectAction_1 = require(\"./legacy/dataSelectAction\");\n\nrequire(\"zrender/lib/canvas/canvas\");\n\nvar transform_1 = require(\"./data/helper/transform\");\n\nvar locale_1 = require(\"./locale\");\n\nvar event_1 = require(\"./util/event\");\n\nvar decal_1 = require(\"./visual/decal\");\n\nvar assert = zrUtil.assert;\nvar each = zrUtil.each;\nvar isFunction = zrUtil.isFunction;\nvar isObject = zrUtil.isObject;\nexports.version = '5.0.0';\nexports.dependencies = {\n  zrender: '5.0.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexports.PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar OPTION_UPDATED_KEY = '__optionUpdated';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful_1[\"default\"].prototype[method].apply(host, args);\n}\n\nvar MessageCenter = function (_super) {\n  tslib_1.__extends(MessageCenter, _super);\n\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return MessageCenter;\n}(Eventful_1[\"default\"]);\n\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar clearColorPalette;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar performPostUpdateFuncs;\nvar createExtensionAPI;\nvar enableConnect;\nvar setTransitionOpt;\nvar markStatusToUpdate;\nvar applyChangedStates;\n\nvar ECharts = function (_super) {\n  tslib_1.__extends(ECharts, _super);\n\n  function ECharts(dom, theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor_1.ECEventProcessor()) || this;\n\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    _this._pendingActions = [];\n    opts = opts || {};\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n\n    _this._dom = dom;\n    var root = typeof window === 'undefined' ? global : window;\n    var defaultRenderer = 'canvas';\n    var defaultUseDirtyRect = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\n    }\n\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      useDirtyRect: opts.useDirtyRect == null ? defaultUseDirtyRect : opts.useDirtyRect\n    });\n    _this._throttledZrFlush = throttle_1.throttle(zrUtil.bind(zr.flush, zr), 17);\n    theme = zrUtil.clone(theme);\n    theme && backwardCompat_1[\"default\"](theme, true);\n    _this._theme = theme;\n    _this._locale = locale_1.createLocaleObject(opts.locale || locale_1.SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystem_1[\"default\"]();\n    var api = _this._api = createExtensionAPI(_this);\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort_1[\"default\"](visualFuncs, prioritySortFunc);\n    timsort_1[\"default\"](dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler_1[\"default\"](_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    _this._labelManager = new LabelManager_1[\"default\"]();\n\n    _this._initEvents();\n\n    _this.resize = zrUtil.bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    zrUtil.setAsPrimitive(_this);\n    return _this;\n  }\n\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n\n    if (this[OPTION_UPDATED_KEY]) {\n      var silent = this[OPTION_UPDATED_KEY].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n\n      this._zr.flush();\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[OPTION_UPDATED_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } else if (scheduler.unfinished) {\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain');\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n    }\n  };\n\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`setOption` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1[\"default\"](this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global_1[\"default\"]();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n\n    setTransitionOpt(this, transitionOpt);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED_KEY] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this.getZr().wakeUp();\n    } else {\n      prepare(this);\n      updateMethods.update.call(this);\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED_KEY] = false;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n\n  ECharts.prototype.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n\n    opts = zrUtil.extend({}, opts || {});\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr;\n    return zr.painter.getRenderedCanvas(opts);\n  };\n\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env_1[\"default\"].svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    zrUtil.each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || 1;\n      zrUtil.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(zrUtil.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = zrUtil.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    zrUtil.each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        console.warn('There is no specified seires model');\n      }\n    }\n\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? helper_1.getItemVisualFromData(data, dataIndexInside, visualType) : helper_1.getVisualFromData(data, visualType);\n  };\n\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && event_1.findEventDispatcher(el, function (parent) {\n            var ecData = innerStore_1.getECData(parent);\n\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\n              return true;\n            } else if (ecData.eventData) {\n              params = zrUtil.extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n\n          if (process.env.NODE_ENV !== 'production') {\n            if (!isGlobalOut && !(model && view)) {\n              console.warn('model or view can not be found by params');\n            }\n          }\n\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n\n          _this.trigger(eveName, params);\n        }\n      };\n\n      handler.zrEventfulCallAtLast = true;\n\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    dataSelectAction_1.handleLegacySelectEvents(this._messageCenter, this, this._model);\n  };\n\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n\n  ECharts.prototype.resize = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`resize` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model;\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS_KEY] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this, {\n      type: 'resize',\n      animation: {\n        duration: 0\n      }\n    });\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Loading effects ' + name + ' not exists.');\n      }\n\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = zrUtil.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    }\n\n    if (!this._model) {\n      return;\n    }\n\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env_1[\"default\"].browser.weChat) {\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.updateLabelLayout = function () {\n    var labelManager = this._labelManager;\n    labelManager.updateLayoutConfig(this._api);\n    labelManager.layout(this._api);\n    labelManager.processLabelsOverall();\n  };\n\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n\n    seriesModel.appendData(params);\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n\n      function doPrepare(model) {\n        var requireNewView = model.__requireNewView;\n        model.__requireNewView = false;\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n\n        if (!view) {\n          var classType = clazz_1.parseClassType(model.type);\n          var Clazz = isComponent ? Component_2[\"default\"].getClass(classType.main, classType.sub) : Chart_1[\"default\"].getClass(classType.sub);\n\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n\n      if (!mainType) {\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType);\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = zrUtil.createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        if (!excludeSeriesIdMap || excludeSeriesIdMap.get(model.id) == null) {\n          if (states_1.isHighDownPayload(payload) && !payload.notBlur) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSeriesBlurStateFromPayload(model, payload, ecIns._api);\n            }\n          } else if (states_1.isSelectChangePayload(payload)) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSelectionFromPayload(model, payload, ecIns._api);\n              states_1.updateSeriesElementSelection(model);\n              markStatusToUpdate(ecIns);\n            }\n          }\n\n          callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n        }\n      }, ecIns);\n\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload);\n      },\n      update: function (payload) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        updateStreamModes(this, ecModel);\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload);\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n\n        if (!env_1[\"default\"].canvasSupported) {\n          var colorArr = colorTool.parse(backgroundColor);\n          backgroundColor = colorTool.stringify(colorArr, 'rgb');\n\n          if (colorArr[3] === 0) {\n            backgroundColor = 'transparent';\n          }\n        } else {\n          zr.setBackgroundColor(backgroundColor);\n\n          if (darkMode != null && darkMode !== 'auto') {\n            zr.setDarkMode(darkMode);\n          }\n        }\n\n        performPostUpdateFuncs(ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n        var api = this._api;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n\n          var componentView = _this.getViewOfComponentModel(componentModel);\n\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = zrUtil.createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n\n        renderSeries(this, ecModel, api, payload, seriesDirtyMap);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n\n        render(this, this._model, this._api, payload);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n\n      var ecModel = ecIns._model;\n\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && clazz_1.parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false;\n\n      if (payload.batch) {\n        batched = true;\n        payloads = zrUtil.map(payload.batch, function (item) {\n          item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = states_1.isSelectChangePayload(payload);\n      var isStatusChange = states_1.isHighDownPayload(payload) || isSelectChange;\n      each(payloads, function (batchItem) {\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api);\n        eventObj = eventObj || zrUtil.extend({}, batchItem);\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n\n        if (isStatusChange) {\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n\n      if (updateMethod !== 'none' && !isStatusChange && !cptType) {\n        if (this[OPTION_UPDATED_KEY]) {\n          prepare(this);\n          updateMethods.update.call(this, payload);\n          this[OPTION_UPDATED_KEY] = false;\n        } else {\n          updateMethods[updateMethod].call(this, payload);\n        }\n      }\n\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj);\n\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: states_1.getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n\n        if (zr.animation.isFinished() && !ecIns[OPTION_UPDATED_KEY] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, true);\n          states_1.enterEmphasisWhenMouseOver(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, false);\n          states_1.leaveEmphasisWhenMouseOut(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, function (target) {\n          return innerStore_1.getECData(target).dataIndex != null;\n        }, true);\n\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = innerStore_1.getECData(dispatcher);\n\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n\n    clearColorPalette = function (ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    };\n\n    render = function (ecIns, ecModel, api, payload) {\n      renderComponents(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n\n    renderComponents = function (ecIns, ecModel, api, payload, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n\n    renderSeries = function (ecIns, ecModel, api, payload, dirtyMap) {\n      var scheduler = ecIns._scheduler;\n      var labelManager = ecIns._labelManager;\n      labelManager.clearLabels();\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        clearStates(seriesModel, chartView);\n\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n\n        seriesModel.__transientTransitionOpt = null;\n        chartView.group.silent = !!seriesModel.get('silent');\n        updateBlend(seriesModel, chartView);\n        states_1.updateSeriesElementSelection(seriesModel);\n        labelManager.addLabelsOfSeries(chartView);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      labelManager.updateLayoutConfig(api);\n      labelManager.layout(api);\n      labelManager.processLabelsOverall();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        updateZ(seriesModel, chartView);\n        updateStates(seriesModel, chartView);\n      });\n      updateHoverLayerStatus(ecIns, ecModel);\n    };\n\n    performPostUpdateFuncs = function (ecModel, api) {\n      each(postUpdateFuncs, function (func) {\n        func(ecModel, api);\n      });\n    };\n\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      ecIns.getZr().wakeUp();\n    };\n\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n\n      ecIns.getZr().storage.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n\n      if (el.hoverState === states_1.HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === states_1.HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n\n      el.useStates(newStates);\n    }\n\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env_1[\"default\"].node && !env_1[\"default\"].worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n          if (chartView.__alive) {\n            chartView.group.traverse(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    ;\n\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!env_1[\"default\"].canvasSupported && blendMode && blendMode !== 'source-over') {\n          console.warn('Only canvas support blendMode');\n        }\n      }\n\n      chartView.group.traverse(function (el) {\n        if (!el.isGroup) {\n          el.style.blend = blendMode;\n        }\n\n        if (el.eachPendingDisplayable) {\n          el.eachPendingDisplayable(function (displayable) {\n            displayable.style.blend = blendMode;\n          });\n        }\n      });\n    }\n\n    ;\n\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n\n      var z = model.get('z');\n      var zlevel = model.get('zlevel');\n      view.group.traverse(function (el) {\n        if (!el.isGroup) {\n          z != null && (el.z = z);\n          zlevel != null && (el.zlevel = zlevel);\n          var label = el.getTextContent();\n          var labelLine = el.getTextGuideLine();\n\n          if (label) {\n            label.z = el.z;\n            label.zlevel = el.zlevel;\n            label.z2 = el.z2 + 2;\n          }\n\n          if (labelLine) {\n            var showAbove = el.textGuideLineConfig && el.textGuideLineConfig.showAbove;\n            labelLine.z = el.z;\n            labelLine.zlevel = el.zlevel;\n            labelLine.z2 = el.z2 + (showAbove ? 1 : -1);\n          }\n        }\n      });\n    }\n\n    ;\n\n    function clearStates(model, view) {\n      view.group.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n      } : null;\n      view.group.traverse(function (el) {\n        if (el.states && el.states.emphasis) {\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n\n          if (el instanceof graphic.Path) {\n            states_1.savePathStates(el);\n          }\n\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n\n    ;\n\n    createExtensionAPI = function (ecIns) {\n      return new (function (_super) {\n        tslib_1.__extends(class_1, _super);\n\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n\n            el = el.parent;\n          }\n        };\n\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          states_1.enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          states_1.leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterBlur = function (el) {\n          states_1.enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveBlur = function (el) {\n          states_1.leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterSelect = function (el) {\n          states_1.enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveSelect = function (el) {\n          states_1.leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n\n        return class_1;\n      }(ExtensionAPI_1[\"default\"]))(ecIns);\n    };\n\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n\n    setTransitionOpt = function (chart, transitionOpt) {\n      var ecModel = chart._model;\n      zrUtil.each(modelUtil.normalizeToArray(transitionOpt), function (transOpt) {\n        var errMsg;\n        var fromOpt = transOpt.from;\n        var toOpt = transOpt.to;\n\n        if (toOpt == null) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.to` must be specified.';\n          }\n\n          log_1.throwError(errMsg);\n        }\n\n        var finderOpt = {\n          includeMainTypes: ['series'],\n          enableAll: false,\n          enableNone: false\n        };\n        var fromResult = fromOpt ? modelUtil.parseFinder(ecModel, fromOpt, finderOpt) : null;\n        var toResult = modelUtil.parseFinder(ecModel, toOpt, finderOpt);\n        var toSeries = toResult.seriesModel;\n\n        if (toSeries == null) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition` is only supported on series.';\n          }\n        }\n\n        if (fromResult && fromResult.seriesModel !== toSeries) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.from` and `transition.to` must be specified to the same series.';\n          }\n        }\n\n        if (errMsg != null) {\n          log_1.throwError(errMsg);\n        }\n\n        toSeries.__transientTransitionOpt = {\n          from: fromOpt ? fromOpt.dimension : null,\n          to: toOpt.dimension,\n          dividingMethod: transOpt.dividingMethod\n        };\n      });\n    };\n  }();\n\n  return ECharts;\n}(Eventful_1[\"default\"]);\n\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  log_1.deprecateLog('ECharts#one is deprecated.');\n\n  function wrapped() {\n    var args2 = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n\n    cb && cb.apply && cb.apply(this, args2);\n    self.off(eventName, wrapped);\n  }\n\n  ;\n  this.on.call(this, eventName, wrapped, ctx);\n};\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Instance ' + id + ' has been disposed');\n  }\n}\n\nvar actions = {};\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar postInitFuncs = [];\nvar postUpdateFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\nfunction init(dom, theme, opts) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!dom) {\n      throw new Error('Initialize failed: invalid dom.');\n    }\n  }\n\n  var existInstance = getInstanceByDom(dom);\n\n  if (existInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('There is a chart instance already initialized on the dom.');\n    }\n\n    return existInstance;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (zrUtil.isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n      console.warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n    }\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  each(postInitFuncs, function (postInitFunc) {\n    postInitFunc(chart);\n  });\n  return chart;\n}\n\nexports.init = init;\n\nfunction connect(groupId) {\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n\nexports.connect = connect;\n\nfunction disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n\nexports.disConnect = disConnect;\nexports.disconnect = disConnect;\n\nfunction dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\n\nexports.dispose = dispose;\n\nfunction getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\n\nexports.getInstanceByDom = getInstanceByDom;\n\nfunction getInstanceById(key) {\n  return instances[key];\n}\n\nexports.getInstanceById = getInstanceById;\n\nfunction registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n\nexports.registerTheme = registerTheme;\n\nfunction registerPreprocessor(preprocessorFunc) {\n  optionPreprocessorFuncs.push(preprocessorFunc);\n}\n\nexports.registerPreprocessor = registerPreprocessor;\n\nfunction registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n\nexports.registerProcessor = registerProcessor;\n\nfunction registerPostInit(postInitFunc) {\n  postInitFunc && postInitFuncs.push(postInitFunc);\n}\n\nexports.registerPostInit = registerPostInit;\n\nfunction registerPostUpdate(postUpdateFunc) {\n  postUpdateFunc && postUpdateFuncs.push(postUpdateFunc);\n}\n\nexports.registerPostUpdate = registerPostUpdate;\n\nfunction registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0];\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\n\nexports.registerAction = registerAction;\n\nfunction registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystem_1[\"default\"].register(type, coordSysCreator);\n}\n\nexports.registerCoordinateSystem = registerCoordinateSystem;\n\nfunction getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystem_1[\"default\"].get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\n\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\n\nvar locale_2 = require(\"./locale\");\n\nexports.registerLocale = locale_2.registerLocale;\n\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\n\nexports.registerLayout = registerLayout;\n\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\n\nexports.registerVisual = registerVisual;\n\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n\n  var stageHandler = Scheduler_1[\"default\"].wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\n\nfunction registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n\nexports.registerLoading = registerLoading;\n\nfunction extendComponentModel(proto) {\n  return Component_1[\"default\"].extend(proto);\n}\n\nexports.extendComponentModel = extendComponentModel;\n\nfunction extendComponentView(proto) {\n  return Component_2[\"default\"].extend(proto);\n}\n\nexports.extendComponentView = extendComponentView;\n\nfunction extendSeriesModel(proto) {\n  return Series_1[\"default\"].extend(proto);\n}\n\nexports.extendSeriesModel = extendSeriesModel;\n\nfunction extendChartView(proto) {\n  return Chart_1[\"default\"].extend(proto);\n}\n\nexports.extendChartView = extendChartView;\n\nfunction setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\n\nexports.setCanvasCreator = setCanvasCreator;\n\nfunction registerMap(mapName, geoJson, specialAreas) {\n  mapDataStorage_1[\"default\"].registerMap(mapName, geoJson, specialAreas);\n}\n\nexports.registerMap = registerMap;\n\nfunction getMap(mapName) {\n  var records = mapDataStorage_1[\"default\"].retrieveMap(mapName);\n  return records && records[0] && {\n    geoJson: records[0].geoJSON,\n    specialAreas: records[0].specialAreas\n  };\n}\n\nexports.getMap = getMap;\nexports.registerTransform = transform_1.registerExternalTransform;\nregisterVisual(PRIORITY_VISUAL_GLOBAL, style_1.seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, symbol_1.seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, symbol_1.dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal_1[\"default\"]);\nregisterPreprocessor(backwardCompat_1[\"default\"]);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack_1[\"default\"]);\nregisterLoading('default', default_1[\"default\"]);\nregisterAction({\n  type: states_1.HIGHLIGHT_ACTION_TYPE,\n  event: states_1.HIGHLIGHT_ACTION_TYPE,\n  update: states_1.HIGHLIGHT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.DOWNPLAY_ACTION_TYPE,\n  event: states_1.DOWNPLAY_ACTION_TYPE,\n  update: states_1.DOWNPLAY_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.SELECT_ACTION_TYPE,\n  event: states_1.SELECT_ACTION_TYPE,\n  update: states_1.SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.UNSELECT_ACTION_TYPE,\n  event: states_1.UNSELECT_ACTION_TYPE,\n  update: states_1.UNSELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  event: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  update: states_1.TOGGLE_SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterTheme('light', light_1[\"default\"]);\nregisterTheme('dark', dark_1[\"default\"]);\nexports.dataTool = {};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}