{"ast":null,"code":"import { mapGetters } from 'vuex';\nimport PieChart from './PieChart.vue';\nimport pdfMake from 'pdfmake';\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\nimport htmlToPdfmake from 'html-to-pdfmake';\nexport default {\n  components: {\n    PieChart\n  },\n  data: () => ({\n    event: {}\n  }),\n  methods: {\n    getEvent() {\n      this.event = this.EVENTS[this.$route.params['id'] - 1];\n    },\n    print() {\n      //get table html\n      const pdfTable = document.getElementById('printCons');\n      //html to pdf format\n      var html = htmlToPdfmake(pdfTable.innerHTML);\n      const documentDefinition = {\n        content: html\n      };\n      pdfMake.vfs = pdfFonts.pdfMake.vfs;\n      pdfMake.createPdf(documentDefinition).open();\n    }\n  },\n  computed: {\n    ...mapGetters(['EVENTS'])\n  },\n  mounted() {\n    this.getEvent();\n  }\n};","map":{"version":3,"mappings":"AASA,SAASA,UAAS,QAAS,MAAM;AACjC,OAAOC,QAAO,MAAO,gBAAgB;AAErC,OAAOC,OAAM,MAAO,SAAS;AAC7B,OAAOC,QAAO,MAAO,yBAAyB;AAC9C,OAAOC,aAAY,MAAO,iBAAiB;AAE3C,eAAe;EACbC,UAAU,EAAE;IAAEJ;EAAQ,CAAC;EAExBK,IAAI,EAAC,OAAO;IACXC,KAAK,EAAE,CAEP;EACD,CAAC,CAAC;EAEFC,OAAO,EAAE;IACRC,QAAQ,GAAG;MACV,IAAI,CAACF,KAAI,GAAI,IAAI,CAACG,MAAM,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC,GAAC,CAAC;IACpD,CAAC;IAEDC,KAAK,GAAG;MACL;MACD,MAAMC,QAAO,GAAIC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;MACrD;MACA,IAAIC,IAAG,GAAIb,aAAa,CAACU,QAAQ,CAACI,SAAS,CAAC;MAE5C,MAAMC,kBAAiB,GAAI;QAAEC,OAAO,EAAEH;MAAK,CAAC;MAC5Cf,OAAO,CAACmB,GAAE,GAAIlB,QAAQ,CAACD,OAAO,CAACmB,GAAG;MAClCnB,OAAO,CAACoB,SAAS,CAACH,kBAAkB,CAAC,CAACI,IAAI,EAAE;IAC9C;EACD,CAAC;EAEDC,QAAQ,EAAE;IACR,GAAGxB,UAAU,CAAC,CACZ,QAAQ,CACT;EACH,CAAC;EAEDyB,OAAO,GAAG;IACT,IAAI,CAAChB,QAAQ,EAAC;EACf;AAID","names":["mapGetters","PieChart","pdfMake","pdfFonts","htmlToPdfmake","components","data","event","methods","getEvent","EVENTS","$route","params","print","pdfTable","document","getElementById","html","innerHTML","documentDefinition","content","vfs","createPdf","open","computed","mounted"],"sourceRoot":"","sources":["C:\\Users\\guzny\\OneDrive\\Рабочий стол\\frontend\\src\\components\\EventsPageItem.vue"],"sourcesContent":["<template>\r\n <div id=\"printCons\">\r\n  <h1>{{event.name}}</h1>\r\n  <pie-chart/>\r\n  <button id=\"no-print\" @click=\"print\" class=\"btn\">Скачать в pdf</button>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport PieChart from './PieChart.vue';\r\n\r\nimport pdfMake from 'pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport htmlToPdfmake from 'html-to-pdfmake';\r\n\r\nexport default {\r\n  components: { PieChart},\r\n\r\n data:() => ({\r\n  event: {\r\n\r\n  }\r\n }),\r\n\r\n methods: {\r\n  getEvent() {\r\n   this.event = this.EVENTS[this.$route.params['id']-1]\r\n  },\r\n\r\n  print() {\r\n     //get table html\r\n    const pdfTable = document.getElementById('printCons');\r\n    //html to pdf format\r\n    var html = htmlToPdfmake(pdfTable.innerHTML);\r\n\r\n    const documentDefinition = { content: html };\r\n    pdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n    pdfMake.createPdf(documentDefinition).open();\r\n  }\r\n },\r\n\r\n computed: {\r\n   ...mapGetters([\r\n     'EVENTS',\r\n   ]),\r\n },\r\n\r\n mounted() {\r\n  this.getEvent()\r\n },\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.btn {\r\n  background: none;\r\n  border: 1px solid #000;\r\n  cursor: pointer;\r\n  padding: 8px 12px;\r\n  color: #000;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}