{"ast":null,"code":"/* eslint-disable no-console */\nimport qs from 'qs';\nimport ECharts from '../components/ECharts.vue';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/chart/pie';\nimport 'echarts/lib/chart/map';\nimport 'echarts/lib/chart/radar';\nimport 'echarts/lib/chart/scatter';\nimport 'echarts/lib/chart/effectScatter';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/polar';\nimport 'echarts/lib/component/geo';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\nimport 'echarts/lib/component/visualMap';\nimport 'echarts/lib/component/dataset';\nimport 'echarts/map/js/world';\nimport 'zrender/lib/svg/svg';\nimport 'echarts-liquidfill';\nimport logo from './data/logo';\nimport getBar from './data/bar';\nimport pie from './data/pie';\nimport polar from './data/polar';\nimport scatter from './data/scatter';\nimport map from './data/map';\nimport { c1, c2 } from './data/connect';\nimport store from './store';\n// built-in theme\nimport 'echarts/theme/dark';\n// custom theme\nimport theme from './theme.json';\n// Map of China\nimport chinaMap from './china.json';\n// registering map data\nECharts.registerMap('china', chinaMap);\n// registering custom theme\nECharts.registerTheme('ovilia-green', theme);\nexport default {\n  components: {\n    chart: ECharts\n  },\n  store,\n  data() {\n    const options = qs.parse(location.search, {\n      ignoreQueryPrefix: true\n    });\n    return {\n      options,\n      logo,\n      bar: getBar(),\n      pie,\n      polar,\n      scatter,\n      map,\n      c1,\n      c2,\n      expand: {\n        bar: true,\n        pie: true,\n        polar: true,\n        scatter: true,\n        map: true,\n        radar: true,\n        connect: true,\n        flight: true\n      },\n      initOptions: {\n        renderer: options.renderer || 'canvas'\n      },\n      polarTheme: 'dark',\n      seconds: -1,\n      asyncCount: false,\n      connected: true,\n      metricIndex: 0,\n      open: false,\n      img: {},\n      flightLoaded: false,\n      flightOptions: null\n    };\n  },\n  computed: {\n    scoreRadar() {\n      return this.$store.getters.scoreRadar;\n    },\n    metrics() {\n      return this.$store.state.scores.map(({\n        name\n      }) => name);\n    },\n    isMax() {\n      const {\n        value,\n        max\n      } = this.$store.state.scores[this.metricIndex];\n      return value === max;\n    },\n    isMin() {\n      return this.$store.state.scores[this.metricIndex].value === 0;\n    }\n  },\n  methods: {\n    handleClick() {\n      console.log('click from echarts');\n    },\n    handleZrClick() {\n      console.log('click from zrender');\n    },\n    refresh() {\n      // simulating async data from server\n      this.seconds = 3;\n      const bar = this.$refs.bar;\n      bar.showLoading({\n        text: 'Loading…',\n        color: '#4ea397',\n        maskColor: 'rgba(255, 255, 255, 0.4)'\n      });\n      const timer = setInterval(() => {\n        this.seconds--;\n        if (this.seconds === 0) {\n          clearTimeout(timer);\n          bar.hideLoading();\n          this.bar = getBar();\n        }\n      }, 1000);\n    },\n    toggleRenderer() {\n      if (this.initOptions.renderer === 'canvas') {\n        this.initOptions.renderer = 'svg';\n      } else {\n        this.initOptions.renderer = 'canvas';\n      }\n    },\n    convert() {\n      const map = this.$refs.map;\n      const {\n        width,\n        height\n      } = map;\n      this.img = {\n        src: map.getDataURL({\n          pixelRatio: window.devicePixelRatio || 1\n        }),\n        width,\n        height\n      };\n      this.open = true;\n    },\n    increase(amount) {\n      if (!this.asyncCount) {\n        this.$store.commit('increment', {\n          amount,\n          index: this.metricIndex\n        });\n      } else {\n        this.$store.dispatch('asyncIncrement', {\n          amount,\n          index: this.metricIndex,\n          delay: 500\n        });\n      }\n    },\n    loadFlights() {\n      this.flightLoaded = true;\n      const {\n        flight\n      } = this.$refs;\n      flight.showLoading({\n        text: '',\n        color: '#c23531',\n        textColor: 'rgba(255, 255, 255, 0.5)',\n        maskColor: '#003',\n        zlevel: 0\n      });\n      import('./data/flight.json').then(({\n        default: data\n      }) => {\n        flight.hideLoading();\n        function getAirportCoord(idx) {\n          return [data.airports[idx][3], data.airports[idx][4]];\n        }\n        const routes = data.routes.map(function (airline) {\n          return [getAirportCoord(airline[1]), getAirportCoord(airline[2])];\n        });\n        this.flightOptions = {\n          title: {\n            text: 'World Flights',\n            left: 'center',\n            textStyle: {\n              color: '#eee'\n            }\n          },\n          backgroundColor: '#003',\n          tooltip: {\n            formatter(param) {\n              const route = data.routes[param.dataIndex];\n              return data.airports[route[1]][1] + ' > ' + data.airports[route[2]][1];\n            }\n          },\n          geo: {\n            map: 'world',\n            left: 0,\n            right: 0,\n            silent: true,\n            itemStyle: {\n              normal: {\n                borderColor: '#003',\n                color: '#005'\n              }\n            }\n          },\n          series: [{\n            type: 'lines',\n            coordinateSystem: 'geo',\n            data: routes,\n            large: true,\n            largeThreshold: 100,\n            lineStyle: {\n              normal: {\n                opacity: 0.05,\n                width: 0.5,\n                curveness: 0.3\n              }\n            },\n            // 设置混合模式为叠加\n            blendMode: 'lighter'\n          }]\n        };\n      });\n    }\n  },\n  watch: {\n    connected: {\n      handler(value) {\n        ECharts[value ? 'connect' : 'disconnect']('radiance');\n      },\n      immediate: true\n    },\n    'initOptions.renderer'(value) {\n      this.options.renderer = value === 'svg' ? value : undefined;\n      let query = qs.stringify(this.options);\n      query = query ? '?' + query : '';\n      history.pushState({}, document.title, `${location.origin}${location.pathname}${query}${location.hash}`);\n    }\n  },\n  mounted() {\n    let dataIndex = -1;\n    const pie = this.$refs.pie;\n    const dataLen = pie.options.series[0].data.length;\n    setInterval(() => {\n      pie.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex\n      });\n      dataIndex = (dataIndex + 1) % dataLen;\n      pie.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex\n      });\n      // 显示 tooltip\n      pie.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex\n      });\n    }, 1000);\n  }\n};","map":{"version":3,"mappings":"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","names":["qs","ECharts","logo","getBar","pie","polar","scatter","map","c1","c2","store","theme","chinaMap","registerMap","registerTheme","components","chart","data","options","parse","location","search","ignoreQueryPrefix","bar","expand","radar","connect","flight","initOptions","renderer","polarTheme","seconds","asyncCount","connected","metricIndex","open","img","flightLoaded","flightOptions","computed","scoreRadar","$store","getters","metrics","state","scores","name","isMax","value","max","isMin","methods","handleClick","console","log","handleZrClick","refresh","$refs","showLoading","text","color","maskColor","timer","setInterval","clearTimeout","hideLoading","toggleRenderer","convert","width","height","src","getDataURL","pixelRatio","window","devicePixelRatio","increase","amount","commit","index","dispatch","delay","loadFlights","textColor","zlevel","then","default","getAirportCoord","idx","airports","routes","airline","title","left","textStyle","backgroundColor","tooltip","formatter","param","route","dataIndex","geo","right","silent","itemStyle","normal","borderColor","series","type","coordinateSystem","large","largeThreshold","lineStyle","opacity","curveness","blendMode","watch","handler","immediate","undefined","query","stringify","history","pushState","document","origin","pathname","hash","mounted","dataLen","length","dispatchAction","seriesIndex"],"sourceRoot":"","sources":["C:\\Users\\guzny\\OneDrive\\Рабочий стол\\frontend\\src\\components\\PieChart.vue"],"sourcesContent":["<template>\r\n <main>\r\n   <chart id=\"logo\" :options=\"logo\" :init-options=\"initOptions\" autoresize />\r\n   <h1><a href=\"https://github.com/Justineo/vue-echarts\">Vue-ECharts</a></h1>\r\n   <p class=\"desc\">ECharts component for Vue.js.</p>\r\n\r\n   <h2 id=\"bar\">\r\n     <a href=\"#bar\"\r\n       >Bar chart <small>(with async data &amp; custom theme)</small></a\r\n     >\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.bar\r\n       }\"\r\n       @click=\"expand.bar = !expand.bar\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.bar\">\r\n     <figure>\r\n       <chart\r\n         :options=\"bar\"\r\n         :init-options=\"initOptions\"\r\n         ref=\"bar\"\r\n         theme=\"ovilia-green\"\r\n         autoresize\r\n         @zr:click=\"handleZrClick\"\r\n         @click=\"handleClick\"\r\n       />\r\n     </figure>\r\n     <p v-if=\"seconds <= 0\"><small>Loaded.</small></p>\r\n     <p v-else>\r\n       <small\r\n         >Data coming in <b>{{ seconds }}</b> second{{\r\n           seconds > 1 ? 's' : ''\r\n         }}...</small\r\n       >\r\n     </p>\r\n     <p><button @click=\"refresh\" :disabled=\"seconds > 0\">Refresh</button></p>\r\n   </section>\r\n\r\n   <h2 id=\"pie\">\r\n     <a href=\"#pie\">Pie chart <small>(with action dispatch)</small></a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.pie\r\n       }\"\r\n       @click=\"expand.pie = !expand.pie\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.pie\">\r\n     <figure>\r\n       <chart\r\n         :options=\"pie\"\r\n         :init-options=\"initOptions\"\r\n         ref=\"pie\"\r\n         autoresize\r\n       />\r\n     </figure>\r\n   </section>\r\n\r\n   <h2 id=\"polar\">\r\n     <a href=\"#polar\">Polar plot <small>(with built-in theme)</small></a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.polar\r\n       }\"\r\n       @click=\"expand.polar = !expand.polar\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.polar\">\r\n     <figure :style=\"polarTheme === 'dark' ? 'background-color: #333' : ''\">\r\n       <chart\r\n         :options=\"polar\"\r\n         :init-options=\"initOptions\"\r\n         :theme=\"polarTheme\"\r\n         autoresize\r\n       />\r\n     </figure>\r\n     <p>\r\n       Theme\r\n       <select v-model=\"polarTheme\">\r\n         <option :value=\"null\">Default</option>\r\n         <option value=\"dark\">Dark</option>\r\n       </select>\r\n     </p>\r\n   </section>\r\n\r\n   <h2 id=\"scatter\">\r\n     <a href=\"#scatter\">Scatter plot <small>(with gradient)</small></a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.scatter\r\n       }\"\r\n       @click=\"expand.scatter = !expand.scatter\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.scatter\">\r\n     <figure>\r\n       <chart :options=\"scatter\" :init-options=\"initOptions\" autoresize />\r\n     </figure>\r\n   </section>\r\n\r\n   <h2 id=\"map\">\r\n     <a href=\"#map\">Map <small>(with GeoJSON &amp; image converter)</small></a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.map\r\n       }\"\r\n       @click=\"expand.map = !expand.map\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.map\">\r\n     <figure style=\"background-color: #404a59;\">\r\n       <chart\r\n         :options=\"map\"\r\n         :init-options=\"initOptions\"\r\n         ref=\"map\"\r\n         autoresize\r\n       />\r\n     </figure>\r\n     <p><button @click=\"convert\">Convert to image</button></p>\r\n   </section>\r\n\r\n   <h2 id=\"radar\">\r\n     <a href=\"#radar\">Radar chart <small>(with Vuex integration)</small></a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.radar\r\n       }\"\r\n       @click=\"expand.radar = !expand.radar\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.radar\">\r\n     <figure>\r\n       <chart :options=\"scoreRadar\" :init-options=\"initOptions\" autoresize />\r\n     </figure>\r\n     <p>\r\n       <select v-model=\"metricIndex\">\r\n         <option v-for=\"(metric, index) in metrics\" :value=\"index\" :key=\"index\"\r\n           >{{ metric }}\r\n         </option>\r\n       </select>\r\n       <button @click=\"increase(1)\" :disabled=\"isMax\">Increase</button>\r\n       <button @click=\"increase(-1)\" :disabled=\"isMin\">Decrease</button>\r\n       <input id=\"async\" type=\"checkbox\" v-model=\"asyncCount\" />\r\n       <label for=\"async\">Async</label>\r\n     </p>\r\n   </section>\r\n\r\n   <h2 id=\"connect\">\r\n     <a href=\"#connect\">Connectable charts</a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.connect\r\n       }\"\r\n       @click=\"expand.connect = !expand.connect\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.connect\">\r\n     <figure class=\"half\">\r\n       <chart\r\n         :options=\"c1\"\r\n         :init-options=\"initOptions\"\r\n         group=\"radiance\"\r\n         ref=\"c1\"\r\n         autoresize\r\n       />\r\n     </figure>\r\n     <figure class=\"half\">\r\n       <chart\r\n         :options=\"c2\"\r\n         :init-options=\"initOptions\"\r\n         group=\"radiance\"\r\n         ref=\"c2\"\r\n         autoresize\r\n       />\r\n     </figure>\r\n     <p>\r\n       <label>\r\n         <input type=\"checkbox\" v-model=\"connected\" />\r\n         Connected\r\n       </label>\r\n     </p>\r\n   </section>\r\n\r\n   <h2 id=\"flight\">\r\n     <a href=\"#flight\">Manual updates</a>\r\n     <button\r\n       :class=\"{\r\n         round: true,\r\n         expand: expand.flight\r\n       }\"\r\n       @click=\"expand.flight = !expand.flight\"\r\n       aria-label=\"toggle\"\r\n     ></button>\r\n   </h2>\r\n   <section v-if=\"expand.flight\">\r\n     <p>\r\n       <small\r\n         >You may use <code>manual-update</code> prop for performance critical\r\n         use cases.</small\r\n       >\r\n     </p>\r\n     <p><button :disabled=\"flightLoaded\" @click=\"loadFlights\">Load</button></p>\r\n     <figure style=\"background-color: #003;\">\r\n       <chart\r\n         ref=\"flight\"\r\n         :init-options=\"initOptions\"\r\n         :options=\"flightOptions\"\r\n         autoresize\r\n       />\r\n     </figure>\r\n   </section>\r\n\r\n   <footer>\r\n     <a href=\"//github.com/Justineo\">@Justineo</a>|<a\r\n       href=\"//github.com/Justineo/vue-echarts/blob/master/LICENSE\"\r\n       >MIT License</a\r\n     >|<a href=\"//github.com/Justineo/vue-echarts\">View on GitHub</a>\r\n   </footer>\r\n\r\n   <aside :class=\"{ modal: true, open }\" @click=\"open = false\">\r\n     <img v-if=\"img.src\" :src=\"img.src\" :width=\"img.width\" />\r\n   </aside>\r\n\r\n   <aside class=\"renderer\">\r\n     <button\r\n       :class=\"{\r\n         active: initOptions.renderer === 'canvas'\r\n       }\"\r\n       @click=\"initOptions.renderer = 'canvas'\"\r\n     >\r\n       Canvas\r\n     </button>\r\n     <button\r\n       :class=\"{\r\n         active: initOptions.renderer === 'svg'\r\n       }\"\r\n       @click=\"initOptions.renderer = 'svg'\"\r\n     >\r\n       SVG\r\n     </button>\r\n   </aside>\r\n </main>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-console */\r\nimport qs from 'qs'\r\nimport ECharts from '../components/ECharts.vue'\r\nimport 'echarts/lib/chart/bar'\r\nimport 'echarts/lib/chart/line'\r\nimport 'echarts/lib/chart/pie'\r\nimport 'echarts/lib/chart/map'\r\nimport 'echarts/lib/chart/radar'\r\nimport 'echarts/lib/chart/scatter'\r\nimport 'echarts/lib/chart/effectScatter'\r\nimport 'echarts/lib/component/tooltip'\r\nimport 'echarts/lib/component/polar'\r\nimport 'echarts/lib/component/geo'\r\nimport 'echarts/lib/component/legend'\r\nimport 'echarts/lib/component/title'\r\nimport 'echarts/lib/component/visualMap'\r\nimport 'echarts/lib/component/dataset'\r\nimport 'echarts/map/js/world'\r\nimport 'zrender/lib/svg/svg'\r\nimport 'echarts-liquidfill'\r\nimport logo from './data/logo'\r\nimport getBar from './data/bar'\r\nimport pie from './data/pie'\r\nimport polar from './data/polar'\r\nimport scatter from './data/scatter'\r\nimport map from './data/map'\r\nimport { c1, c2 } from './data/connect'\r\nimport store from './store'\r\n// built-in theme\r\nimport 'echarts/theme/dark'\r\n// custom theme\r\nimport theme from './theme.json'\r\n// Map of China\r\nimport chinaMap from './china.json'\r\n// registering map data\r\nECharts.registerMap('china', chinaMap)\r\n// registering custom theme\r\nECharts.registerTheme('ovilia-green', theme)\r\nexport default {\r\n components: {\r\n   chart: ECharts\r\n },\r\n store,\r\n data () {\r\n   const options = qs.parse(location.search, { ignoreQueryPrefix: true })\r\n   return {\r\n     options,\r\n     logo,\r\n     bar: getBar(),\r\n     pie,\r\n     polar,\r\n     scatter,\r\n     map,\r\n     c1,\r\n     c2,\r\n     expand: {\r\n       bar: true,\r\n       pie: true,\r\n       polar: true,\r\n       scatter: true,\r\n       map: true,\r\n       radar: true,\r\n       connect: true,\r\n       flight: true\r\n     },\r\n     initOptions: {\r\n       renderer: options.renderer || 'canvas'\r\n     },\r\n     polarTheme: 'dark',\r\n     seconds: -1,\r\n     asyncCount: false,\r\n     connected: true,\r\n     metricIndex: 0,\r\n     open: false,\r\n     img: {},\r\n     flightLoaded: false,\r\n     flightOptions: null\r\n   }\r\n },\r\n computed: {\r\n   scoreRadar () {\r\n     return this.$store.getters.scoreRadar\r\n   },\r\n   metrics () {\r\n     return this.$store.state.scores.map(({ name }) => name)\r\n   },\r\n   isMax () {\r\n     const { value, max } = this.$store.state.scores[this.metricIndex]\r\n     return value === max\r\n   },\r\n   isMin () {\r\n     return this.$store.state.scores[this.metricIndex].value === 0\r\n   }\r\n },\r\n methods: {\r\n   handleClick () {\r\n     console.log('click from echarts')\r\n   },\r\n   handleZrClick () {\r\n     console.log('click from zrender')\r\n   },\r\n   refresh () {\r\n     // simulating async data from server\r\n     this.seconds = 3\r\n     const bar = this.$refs.bar\r\n     bar.showLoading({\r\n       text: 'Loading…',\r\n       color: '#4ea397',\r\n       maskColor: 'rgba(255, 255, 255, 0.4)'\r\n     })\r\n     const timer = setInterval(() => {\r\n       this.seconds--\r\n       if (this.seconds === 0) {\r\n         clearTimeout(timer)\r\n         bar.hideLoading()\r\n         this.bar = getBar()\r\n       }\r\n     }, 1000)\r\n   },\r\n   toggleRenderer () {\r\n     if (this.initOptions.renderer === 'canvas') {\r\n       this.initOptions.renderer = 'svg'\r\n     } else {\r\n       this.initOptions.renderer = 'canvas'\r\n     }\r\n   },\r\n   convert () {\r\n     const map = this.$refs.map\r\n     const { width, height } = map\r\n     this.img = {\r\n       src: map.getDataURL({\r\n         pixelRatio: window.devicePixelRatio || 1\r\n       }),\r\n       width,\r\n       height\r\n     }\r\n     this.open = true\r\n   },\r\n   increase (amount) {\r\n     if (!this.asyncCount) {\r\n       this.$store.commit('increment', { amount, index: this.metricIndex })\r\n     } else {\r\n       this.$store.dispatch('asyncIncrement', {\r\n         amount,\r\n         index: this.metricIndex,\r\n         delay: 500\r\n       })\r\n     }\r\n   },\r\n   loadFlights () {\r\n     this.flightLoaded = true\r\n     const { flight } = this.$refs\r\n     flight.showLoading({\r\n       text: '',\r\n       color: '#c23531',\r\n       textColor: 'rgba(255, 255, 255, 0.5)',\r\n       maskColor: '#003',\r\n       zlevel: 0\r\n     })\r\n     import('./data/flight.json').then(({ default: data }) => {\r\n       flight.hideLoading()\r\n       function getAirportCoord (idx) {\r\n         return [data.airports[idx][3], data.airports[idx][4]]\r\n       }\r\n       const routes = data.routes.map(function (airline) {\r\n         return [getAirportCoord(airline[1]), getAirportCoord(airline[2])]\r\n       })\r\n       this.flightOptions = {\r\n         title: {\r\n           text: 'World Flights',\r\n           left: 'center',\r\n           textStyle: {\r\n             color: '#eee'\r\n           }\r\n         },\r\n         backgroundColor: '#003',\r\n         tooltip: {\r\n           formatter (param) {\r\n             const route = data.routes[param.dataIndex]\r\n             return (\r\n               data.airports[route[1]][1] + ' > ' + data.airports[route[2]][1]\r\n             )\r\n           }\r\n         },\r\n         geo: {\r\n           map: 'world',\r\n           left: 0,\r\n           right: 0,\r\n           silent: true,\r\n           itemStyle: {\r\n             normal: {\r\n               borderColor: '#003',\r\n               color: '#005'\r\n             }\r\n           }\r\n         },\r\n         series: [\r\n           {\r\n             type: 'lines',\r\n             coordinateSystem: 'geo',\r\n             data: routes,\r\n             large: true,\r\n             largeThreshold: 100,\r\n             lineStyle: {\r\n               normal: {\r\n                 opacity: 0.05,\r\n                 width: 0.5,\r\n                 curveness: 0.3\r\n               }\r\n             },\r\n             // 设置混合模式为叠加\r\n             blendMode: 'lighter'\r\n           }\r\n         ]\r\n       }\r\n     })\r\n   }\r\n },\r\n watch: {\r\n   connected: {\r\n     handler (value) {\r\n       ECharts[value ? 'connect' : 'disconnect']('radiance')\r\n     },\r\n     immediate: true\r\n   },\r\n   'initOptions.renderer' (value) {\r\n     this.options.renderer = value === 'svg' ? value : undefined\r\n     let query = qs.stringify(this.options)\r\n     query = query ? '?' + query : ''\r\n     history.pushState(\r\n       {},\r\n       document.title,\r\n       `${location.origin}${location.pathname}${query}${location.hash}`\r\n     )\r\n   }\r\n },\r\n mounted () {\r\n   let dataIndex = -1\r\n   const pie = this.$refs.pie\r\n   const dataLen = pie.options.series[0].data.length\r\n   setInterval(() => {\r\n     pie.dispatchAction({\r\n       type: 'downplay',\r\n       seriesIndex: 0,\r\n       dataIndex\r\n     })\r\n     dataIndex = (dataIndex + 1) % dataLen\r\n     pie.dispatchAction({\r\n       type: 'highlight',\r\n       seriesIndex: 0,\r\n       dataIndex\r\n     })\r\n     // 显示 tooltip\r\n     pie.dispatchAction({\r\n       type: 'showTip',\r\n       seriesIndex: 0,\r\n       dataIndex\r\n     })\r\n   }, 1000)\r\n }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n*,\r\n*::before,\r\n*::after\r\n box-sizing border-box\r\nhtml\r\n scroll-behavior smooth\r\nbody\r\n margin 0\r\n padding 3em 0 0\r\n font-family \"Source Sans Pro\", \"Helvetica Neue\", Arial, sans-serif\r\n color #666\r\n text-align center\r\na\r\n color inherit\r\n text-decoration none\r\nh1\r\n margin-bottom 1em\r\n font-family Dosis, \"Source Sans Pro\", \"Helvetica Neue\", Arial, sans-serif\r\nh1,\r\nh2\r\n color #2c3e50\r\n font-weight 300\r\nh2\r\n margin-top 2em\r\n padding-top 1em\r\n font-size 1.2em\r\n button\r\n   margin-left 1em\r\n   vertical-align middle\r\n.desc\r\n margin-bottom 3em\r\n color #7f8c8d\r\nh2 small\r\n opacity .7\r\np small\r\n font-size .8em\r\n color #7f8c8d\r\np\r\n line-height 1.5\r\npre\r\n display inline-block\r\n padding .8em\r\n background-color #f9f9f9\r\n box-shadow 0 1px 2px rgba(0,0,0,.125)\r\n line-height 1.1\r\n color #2973b7\r\npre,\r\ncode\r\n font-family \"Roboto Mono\", Monaco, courier, monospace\r\npre code\r\n font-size .8em\r\n.attr\r\n color #e96900\r\n.val\r\n color #42b983\r\nfooter\r\n margin 5em 0 3em\r\n font-size .5em\r\n vertical-align middle\r\n a\r\n   display inline-block\r\n   margin 0 5px\r\n   padding 3px 0 6px\r\n   color #7f8c8d\r\n   font-size 2em\r\n   text-decoration none\r\n a:hover\r\n   padding-bottom 3px\r\n   border-bottom 3px solid #42b983\r\nbutton\r\n border 1px solid #4fc08d\r\n border-radius 2em\r\n background-color #fff\r\n color #42b983\r\n cursor pointer\r\n font inherit\r\n transition opacity .3s\r\n &:focus\r\n   outline none\r\n   box-shadow 0 0 1px #4fc08d\r\n &:active\r\n   background rgba(79, 192, 141, .2)\r\n &[disabled]\r\n   opacity .5\r\n   cursor not-allowed\r\n &.round\r\n   width 1.6em\r\n   height 1.6em\r\n   position relative\r\n   &::before,\r\n   &::after\r\n     content \"\"\r\n     position absolute\r\n     top 50%\r\n     left 50%\r\n     transform translate(-50%, -50%)\r\n     width 9px\r\n     height 1px\r\n     background-color #42b983\r\n   &::after\r\n     width 1px\r\n     height 9px\r\n   &.expand::after\r\n     display none\r\nbutton,\r\nlabel\r\n font-size .75em\r\nfigure\r\n display inline-block\r\n position relative\r\n margin 2em auto\r\n border 1px solid rgba(0, 0, 0, .1)\r\n border-radius 8px\r\n box-shadow 0 0 45px rgba(0, 0, 0, .2)\r\n padding 1.5em 2em\r\n min-width: calc(40vw + 4em)\r\n .echarts\r\n   // width 40vw\r\n   width 100%\r\n   min-width 400px\r\n   height 300px\r\n#logo\r\n display inline-block\r\n width 128px\r\n height 128px\r\n pointer-events none\r\n.modal\r\n display none\r\n position fixed\r\n top 0\r\n right 0\r\n bottom 0\r\n left 0\r\n background-color rgba(0, 0, 0, .2)\r\n z-index 1\r\n &.open\r\n   display block\r\n img\r\n   position absolute\r\n   top 50%\r\n   left 50%\r\n   transform translate(-50%, -50%)\r\n   background-color #404a59\r\n   max-width 80vw\r\n   border 2px solid #fff\r\n   border-radius 3px\r\n   box-shadow 0 0 30px rgba(0, 0, 0, .2)\r\n@media (min-width 980px)\r\n figure.half\r\n   padding 1em 1.5em\r\n   min-width calc(240px + 3em)\r\n   .echarts\r\n     width 28vw\r\n     min-width 240px\r\n     height 180px\r\n   &:not(:last-child)\r\n     margin-right 15px\r\n@media (max-width 980px)\r\n p\r\n   display flex\r\n   justify-content center\r\n   select\r\n     text-indent calc(50% - 1em)\r\n   select,\r\n   label\r\n     border 1px solid #4fc08d\r\n     border-radius 2em\r\n     background-color #fff\r\n     color #42b983\r\n     cursor pointer\r\n     transition opacity .3s\r\n   button,\r\n   input,\r\n   select,\r\n   label\r\n     flex 1 0\r\n     margin 0 .5em\r\n     padding 0\r\n     line-height 2.4em\r\n     max-width 40vw\r\n     border-radius 2px\r\n     font-size .8em\r\n   select\r\n     -webkit-appearance none\r\n   input[type=\"checkbox\"]\r\n     display none\r\n     &:checked + label\r\n       background #42b983\r\n       color #fff\r\n figure\r\n   width 100vw\r\n   margin 1em auto\r\n   padding 0 1em\r\n   border none\r\n   border-radius 0\r\n   box-shadow none\r\n   .echarts\r\n     width 100%\r\n     min-width 0\r\n     height 75vw\r\n.renderer\r\n position fixed\r\n top 10px\r\n left 10px\r\n font-size 12px\r\n text-align center\r\n button\r\n   float left\r\n   position relative\r\n   width 48px\r\n   border-radius 4px\r\n   &.active\r\n     z-index 1\r\n     background-color #4fc08d\r\n     color #fff\r\n   &:first-child\r\n     border-top-right-radius 0\r\n     border-bottom-right-radius 0\r\n   &:last-child\r\n     left -1px\r\n     border-top-left-radius 0\r\n     border-bottom-left-radius 0\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}