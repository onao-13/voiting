{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n  return ar;\n};\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { HdpiCanvas } from '../canvas/hdpiCanvas';\nimport { RedrawType } from './node';\nimport { createId } from '../util/id';\nimport { Group } from './group';\nimport { HdpiOffscreenCanvas } from '../canvas/hdpiOffscreenCanvas';\nimport { windowValue } from '../util/window';\nimport { ascendingStringNumberUndefined, compoundAscending } from '../util/compare';\nvar Scene = /** @class */function () {\n  function Scene(opts) {\n    var _a, _b;\n    this.id = createId(this);\n    this.layers = [];\n    this._nextZIndex = 0;\n    this._nextLayerId = 0;\n    this._dirty = false;\n    this._root = null;\n    this.debug = {\n      dirtyTree: false,\n      stats: false,\n      renderBoundingBoxes: false,\n      consoleLog: false\n    };\n    var _c = opts.document,\n      document = _c === void 0 ? window.document : _c,\n      _d = opts.mode,\n      mode = _d === void 0 ? windowValue('agChartsSceneRenderModel') || 'adv-composite' : _d,\n      width = opts.width,\n      height = opts.height,\n      _e = opts.overrideDevicePixelRatio,\n      overrideDevicePixelRatio = _e === void 0 ? undefined : _e;\n    this.overrideDevicePixelRatio = overrideDevicePixelRatio;\n    this.opts = {\n      document: document,\n      mode: mode\n    };\n    this.debug.stats = (_a = windowValue('agChartsSceneStats'), _a !== null && _a !== void 0 ? _a : false);\n    this.debug.dirtyTree = (_b = windowValue('agChartsSceneDirtyTree'), _b !== null && _b !== void 0 ? _b : false);\n    this.canvas = new HdpiCanvas({\n      document: document,\n      width: width,\n      height: height,\n      overrideDevicePixelRatio: overrideDevicePixelRatio\n    });\n    this.ctx = this.canvas.context;\n  }\n  Object.defineProperty(Scene.prototype, \"container\", {\n    get: function () {\n      return this.canvas.container;\n    },\n    set: function (value) {\n      this.canvas.container = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Scene.prototype.download = function (fileName, fileFormat) {\n    this.canvas.download(fileName, fileFormat);\n  };\n  Scene.prototype.getDataURL = function (type) {\n    return this.canvas.getDataURL(type);\n  };\n  Object.defineProperty(Scene.prototype, \"width\", {\n    get: function () {\n      return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scene.prototype, \"height\", {\n    get: function () {\n      return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Scene.prototype.resize = function (width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    // HdpiCanvas doesn't allow width/height <= 0.\n    var lessThanZero = width <= 0 || height <= 0;\n    var unchanged = width === this.width && height === this.height;\n    if (unchanged || lessThanZero) {\n      return false;\n    }\n    this.pendingSize = [width, height];\n    this.markDirty();\n    return true;\n  };\n  Scene.prototype.addLayer = function (opts) {\n    var _a;\n    var mode = this.opts.mode;\n    var layeredModes = ['composite', 'dom-composite', 'adv-composite'];\n    if (!layeredModes.includes(mode)) {\n      return undefined;\n    }\n    var _b = opts || {},\n      _c = _b.zIndex,\n      zIndex = _c === void 0 ? this._nextZIndex++ : _c,\n      name = _b.name,\n      zIndexSubOrder = _b.zIndexSubOrder;\n    var _d = this,\n      width = _d.width,\n      height = _d.height,\n      overrideDevicePixelRatio = _d.overrideDevicePixelRatio;\n    var domLayer = mode === 'dom-composite';\n    var advLayer = mode === 'adv-composite';\n    var canvas = !advLayer || !HdpiOffscreenCanvas.isSupported() ? new HdpiCanvas({\n      document: this.opts.document,\n      width: width,\n      height: height,\n      domLayer: domLayer,\n      zIndex: zIndex,\n      name: name,\n      overrideDevicePixelRatio: overrideDevicePixelRatio\n    }) : new HdpiOffscreenCanvas({\n      width: width,\n      height: height,\n      overrideDevicePixelRatio: overrideDevicePixelRatio\n    });\n    var newLayer = {\n      id: this._nextLayerId++,\n      name: name,\n      zIndex: zIndex,\n      zIndexSubOrder: zIndexSubOrder,\n      canvas: canvas\n    };\n    if (zIndex >= this._nextZIndex) {\n      this._nextZIndex = zIndex + 1;\n    }\n    this.layers.push(newLayer);\n    this.sortLayers();\n    if (domLayer) {\n      var domCanvases = this.layers.map(function (v) {\n        return v.canvas;\n      }).filter(function (v) {\n        return v instanceof HdpiCanvas;\n      });\n      var newLayerIndex = domCanvases.findIndex(function (v) {\n        return v === canvas;\n      });\n      var lastLayer = (_a = domCanvases[newLayerIndex - 1], _a !== null && _a !== void 0 ? _a : this.canvas);\n      lastLayer.element.insertAdjacentElement('afterend', canvas.element);\n    }\n    if (this.debug.consoleLog) {\n      console.log({\n        layers: this.layers\n      });\n    }\n    return newLayer.canvas;\n  };\n  Scene.prototype.removeLayer = function (canvas) {\n    var index = this.layers.findIndex(function (l) {\n      return l.canvas === canvas;\n    });\n    if (index >= 0) {\n      this.layers.splice(index, 1);\n      canvas.destroy();\n      this.markDirty();\n      if (this.debug.consoleLog) {\n        console.log({\n          layers: this.layers\n        });\n      }\n    }\n  };\n  Scene.prototype.moveLayer = function (canvas, newZIndex, newZIndexSubOrder) {\n    var layer = this.layers.find(function (l) {\n      return l.canvas === canvas;\n    });\n    if (layer) {\n      layer.zIndex = newZIndex;\n      layer.zIndexSubOrder = newZIndexSubOrder;\n      this.sortLayers();\n      this.markDirty();\n      if (this.debug.consoleLog) {\n        console.log({\n          layers: this.layers\n        });\n      }\n    }\n  };\n  Scene.prototype.sortLayers = function () {\n    this.layers.sort(function (a, b) {\n      var _a, _b;\n      return compoundAscending(__spread([a.zIndex], (_a = a.zIndexSubOrder, _a !== null && _a !== void 0 ? _a : [undefined, undefined]), [a.id]), __spread([b.zIndex], (_b = b.zIndexSubOrder, _b !== null && _b !== void 0 ? _b : [undefined, undefined]), [b.id]), ascendingStringNumberUndefined);\n    });\n  };\n  Scene.prototype.markDirty = function () {\n    this._dirty = true;\n  };\n  Object.defineProperty(Scene.prototype, \"dirty\", {\n    get: function () {\n      return this._dirty;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scene.prototype, \"root\", {\n    get: function () {\n      return this._root;\n    },\n    set: function (node) {\n      if (node === this._root) {\n        return;\n      }\n      if (this._root) {\n        this._root._setScene();\n      }\n      this._root = node;\n      if (node) {\n        // If `node` is the root node of another scene ...\n        if (node.parent === null && node.scene && node.scene !== this) {\n          node.scene.root = null;\n        }\n        node._setScene(this);\n      }\n      this.markDirty();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Scene.prototype.destroy = function () {\n    var e_1, _a;\n    this.container = undefined;\n    var layers = this.layers;\n    try {\n      for (var layers_1 = __values(layers), layers_1_1 = layers_1.next(); !layers_1_1.done; layers_1_1 = layers_1.next()) {\n        var layer = layers_1_1.value;\n        layer.canvas.destroy();\n        delete layer['canvas'];\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (layers_1_1 && !layers_1_1.done && (_a = layers_1.return)) _a.call(layers_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    layers.splice(0, layers.length);\n  };\n  Scene.prototype.render = function (opts) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, _b, debugSplitTimes, _c, extraDebugStats, _d, canvas, ctx, root, layers, pendingSize, mode, renderCtx, canvasCleared, _e, dirtyTree, paths;\n      var _f;\n      return __generator(this, function (_g) {\n        _a = opts || {}, _b = _a.debugSplitTimes, debugSplitTimes = _b === void 0 ? [performance.now()] : _b, _c = _a.extraDebugStats, extraDebugStats = _c === void 0 ? {} : _c;\n        _d = this, canvas = _d.canvas, ctx = _d.ctx, root = _d.root, layers = _d.layers, pendingSize = _d.pendingSize, mode = _d.opts.mode;\n        if (pendingSize) {\n          (_f = this.canvas).resize.apply(_f, __spread(pendingSize));\n          this.layers.forEach(function (layer) {\n            var _a;\n            return (_a = layer.canvas).resize.apply(_a, __spread(pendingSize));\n          });\n          this.pendingSize = undefined;\n        }\n        if (root && !root.visible) {\n          this._dirty = false;\n          return [2 /*return*/];\n        }\n\n        if (root && !this.dirty) {\n          if (this.debug.consoleLog) {\n            console.log('no-op', {\n              redrawType: RedrawType[root.dirty],\n              tree: this.buildTree(root)\n            });\n          }\n          this.debugStats(debugSplitTimes, ctx, undefined, extraDebugStats);\n          return [2 /*return*/];\n        }\n\n        renderCtx = {\n          ctx: ctx,\n          forceRender: true,\n          resized: !!pendingSize\n        };\n        if (this.debug.stats === 'detailed') {\n          renderCtx.stats = {\n            layersRendered: 0,\n            layersSkipped: 0,\n            nodesRendered: 0,\n            nodesSkipped: 0\n          };\n        }\n        canvasCleared = false;\n        if (!root || root.dirty >= RedrawType.TRIVIAL) {\n          // start with a blank canvas, clear previous drawing\n          canvasCleared = true;\n          canvas.clear();\n        }\n        if (root && this.debug.dirtyTree) {\n          _e = this.buildDirtyTree(root), dirtyTree = _e.dirtyTree, paths = _e.paths;\n          console.log({\n            dirtyTree: dirtyTree,\n            paths: paths\n          });\n        }\n        if (root && canvasCleared) {\n          if (this.debug.consoleLog) {\n            console.log('before', {\n              redrawType: RedrawType[root.dirty],\n              canvasCleared: canvasCleared,\n              tree: this.buildTree(root)\n            });\n          }\n          if (root.visible) {\n            ctx.save();\n            root.render(renderCtx);\n            ctx.restore();\n          }\n        }\n        if (mode !== 'dom-composite' && layers.length > 0 && canvasCleared) {\n          ctx.save();\n          ctx.setTransform(1 / canvas.pixelRatio, 0, 0, 1 / canvas.pixelRatio, 0, 0);\n          layers.forEach(function (_a) {\n            var _b = _a.canvas,\n              imageSource = _b.imageSource,\n              enabled = _b.enabled,\n              opacity = _b.opacity;\n            if (!enabled) {\n              return;\n            }\n            ctx.globalAlpha = opacity;\n            ctx.drawImage(imageSource, 0, 0);\n          });\n          ctx.restore();\n        }\n        this._dirty = false;\n        this.debugStats(debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n        if (root && this.debug.consoleLog) {\n          console.log('after', {\n            redrawType: RedrawType[root.dirty],\n            canvasCleared: canvasCleared,\n            tree: this.buildTree(root)\n          });\n        }\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  Scene.prototype.debugStats = function (debugSplitTimes, ctx, renderCtxStats, extraDebugStats) {\n    var e_2, _a;\n    if (extraDebugStats === void 0) {\n      extraDebugStats = {};\n    }\n    var end = performance.now();\n    if (this.debug.stats) {\n      var start = debugSplitTimes[0];\n      debugSplitTimes.push(end);\n      var pct = function (rendered, skipped) {\n        var total = rendered + skipped;\n        return rendered + \" / \" + total + \" (\" + Math.round(100 * rendered / total) + \"%)\";\n      };\n      var time_1 = function (start, end) {\n        return Math.round((end - start) * 100) / 100 + \"ms\";\n      };\n      var _b = renderCtxStats !== null && renderCtxStats !== void 0 ? renderCtxStats : {},\n        _c = _b.layersRendered,\n        layersRendered = _c === void 0 ? 0 : _c,\n        _d = _b.layersSkipped,\n        layersSkipped = _d === void 0 ? 0 : _d,\n        _e = _b.nodesRendered,\n        nodesRendered = _e === void 0 ? 0 : _e,\n        _f = _b.nodesSkipped,\n        nodesSkipped = _f === void 0 ? 0 : _f;\n      var splits = debugSplitTimes.map(function (t, i) {\n        return i > 0 ? time_1(debugSplitTimes[i - 1], t) : null;\n      }).filter(function (v) {\n        return v != null;\n      }).join(' + ');\n      var extras = Object.entries(extraDebugStats).map(function (_a) {\n        var _b = __read(_a, 2),\n          k = _b[0],\n          v = _b[1];\n        return k + \": \" + v;\n      }).join(' ; ');\n      var stats = [time_1(start, end) + \" (\" + splits + \")\", \"\" + extras, this.debug.stats === 'detailed' ? \"Layers: \" + pct(layersRendered, layersSkipped) : null, this.debug.stats === 'detailed' ? \"Nodes: \" + pct(nodesRendered, nodesSkipped) : null].filter(function (v) {\n        return v != null;\n      });\n      var lineHeight = 15;\n      ctx.save();\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, 0, 200, 10 + lineHeight * stats.length);\n      ctx.fillStyle = 'black';\n      var index = 0;\n      try {\n        for (var stats_1 = __values(stats), stats_1_1 = stats_1.next(); !stats_1_1.done; stats_1_1 = stats_1.next()) {\n          var stat = stats_1_1.value;\n          ctx.fillText(stat, 2, 10 + index++ * lineHeight);\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (stats_1_1 && !stats_1_1.done && (_a = stats_1.return)) _a.call(stats_1);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n      ctx.restore();\n    }\n  };\n  Scene.prototype.buildTree = function (node) {\n    var _this = this;\n    var _a;\n    var name = (_a = node instanceof Group ? node.name : null, _a !== null && _a !== void 0 ? _a : node.id);\n    return __assign({\n      name: name,\n      node: node,\n      dirty: RedrawType[node.dirty]\n    }, node.children.map(function (c) {\n      return _this.buildTree(c);\n    }).reduce(function (result, childTree) {\n      var treeNodeName = childTree.name,\n        _a = childTree.node,\n        visible = _a.visible,\n        opacity = _a.opacity,\n        zIndex = _a.zIndex,\n        zIndexSubOrder = _a.zIndexSubOrder;\n      if (!visible || opacity <= 0) {\n        treeNodeName = \"( \" + treeNodeName + \" )\";\n      }\n      if (node instanceof Group && node.isLayer()) {\n        treeNodeName = \"[ \" + treeNodeName + \" ]\";\n      }\n      var key = [\"\" + (treeNodeName !== null && treeNodeName !== void 0 ? treeNodeName : '<unknown>'), \"z: \" + zIndex, zIndexSubOrder && \"zo: \" + zIndexSubOrder.join(' / ')].filter(function (v) {\n        return !!v;\n      }).join(' ');\n      result[key] = childTree;\n      return result;\n    }, {}));\n  };\n  Scene.prototype.buildDirtyTree = function (node) {\n    var _this = this;\n    var _a;\n    if (node.dirty === RedrawType.NONE) {\n      return {\n        dirtyTree: {},\n        paths: []\n      };\n    }\n    var childrenDirtyTree = node.children.map(function (c) {\n      return _this.buildDirtyTree(c);\n    }).filter(function (c) {\n      return c.paths.length > 0;\n    });\n    var name = (_a = node instanceof Group ? node.name : null, _a !== null && _a !== void 0 ? _a : node.id);\n    var paths = childrenDirtyTree.length === 0 ? [name] : childrenDirtyTree.map(function (c) {\n      return c.paths;\n    }).reduce(function (r, p) {\n      return r.concat(p);\n    }, []).map(function (p) {\n      return name + \".\" + p;\n    });\n    return {\n      dirtyTree: __assign({\n        name: name,\n        node: node,\n        dirty: RedrawType[node.dirty]\n      }, childrenDirtyTree.map(function (c) {\n        return c.dirtyTree;\n      }).filter(function (t) {\n        return t.dirty !== undefined;\n      }).reduce(function (result, childTree) {\n        result[childTree.name || '<unknown>'] = childTree;\n        return result;\n      }, {})),\n      paths: paths\n    };\n  };\n  Scene.className = 'Scene';\n  return Scene;\n}();\nexport { Scene };","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__read","o","m","r","ar","error","__spread","concat","__values","HdpiCanvas","RedrawType","createId","Group","HdpiOffscreenCanvas","windowValue","ascendingStringNumberUndefined","compoundAscending","Scene","opts","_a","_b","id","layers","_nextZIndex","_nextLayerId","_dirty","_root","debug","dirtyTree","stats","renderBoundingBoxes","consoleLog","_c","document","window","_d","mode","width","height","_e","overrideDevicePixelRatio","undefined","canvas","ctx","context","defineProperty","get","container","set","enumerable","configurable","download","fileName","fileFormat","getDataURL","type","pendingSize","resize","Math","round","lessThanZero","unchanged","markDirty","addLayer","layeredModes","includes","zIndex","name","zIndexSubOrder","domLayer","advLayer","isSupported","newLayer","sortLayers","domCanvases","map","filter","newLayerIndex","findIndex","lastLayer","element","insertAdjacentElement","console","log","removeLayer","index","l","splice","destroy","moveLayer","newZIndex","newZIndexSubOrder","layer","find","sort","a","b","node","_setScene","parent","scene","root","e_1","layers_1","layers_1_1","e_1_1","return","render","debugSplitTimes","extraDebugStats","renderCtx","canvasCleared","paths","_f","_g","performance","now","forEach","visible","dirty","redrawType","tree","buildTree","debugStats","forceRender","resized","layersRendered","layersSkipped","nodesRendered","nodesSkipped","TRIVIAL","clear","buildDirtyTree","save","restore","setTransform","pixelRatio","imageSource","enabled","opacity","globalAlpha","drawImage","renderCtxStats","e_2","end","start","pct","rendered","skipped","total","time_1","splits","join","extras","entries","k","lineHeight","fillStyle","fillRect","stats_1","stats_1_1","stat","fillText","e_2_1","_this","children","c","reduce","childTree","treeNodeName","isLayer","key","NONE","childrenDirtyTree","className"],"sources":["C:/Users/guzny/OneDrive/Рабочий стол/frontend/node_modules/ag-charts-community/dist/esm/es5/scene/scene.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { HdpiCanvas } from '../canvas/hdpiCanvas';\nimport { RedrawType } from './node';\nimport { createId } from '../util/id';\nimport { Group } from './group';\nimport { HdpiOffscreenCanvas } from '../canvas/hdpiOffscreenCanvas';\nimport { windowValue } from '../util/window';\nimport { ascendingStringNumberUndefined, compoundAscending } from '../util/compare';\nvar Scene = /** @class */ (function () {\n    function Scene(opts) {\n        var _a, _b;\n        this.id = createId(this);\n        this.layers = [];\n        this._nextZIndex = 0;\n        this._nextLayerId = 0;\n        this._dirty = false;\n        this._root = null;\n        this.debug = {\n            dirtyTree: false,\n            stats: false,\n            renderBoundingBoxes: false,\n            consoleLog: false,\n        };\n        var _c = opts.document, document = _c === void 0 ? window.document : _c, _d = opts.mode, mode = _d === void 0 ? windowValue('agChartsSceneRenderModel') || 'adv-composite' : _d, width = opts.width, height = opts.height, _e = opts.overrideDevicePixelRatio, overrideDevicePixelRatio = _e === void 0 ? undefined : _e;\n        this.overrideDevicePixelRatio = overrideDevicePixelRatio;\n        this.opts = { document: document, mode: mode };\n        this.debug.stats = (_a = windowValue('agChartsSceneStats'), (_a !== null && _a !== void 0 ? _a : false));\n        this.debug.dirtyTree = (_b = windowValue('agChartsSceneDirtyTree'), (_b !== null && _b !== void 0 ? _b : false));\n        this.canvas = new HdpiCanvas({ document: document, width: width, height: height, overrideDevicePixelRatio: overrideDevicePixelRatio });\n        this.ctx = this.canvas.context;\n    }\n    Object.defineProperty(Scene.prototype, \"container\", {\n        get: function () {\n            return this.canvas.container;\n        },\n        set: function (value) {\n            this.canvas.container = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.download = function (fileName, fileFormat) {\n        this.canvas.download(fileName, fileFormat);\n    };\n    Scene.prototype.getDataURL = function (type) {\n        return this.canvas.getDataURL(type);\n    };\n    Object.defineProperty(Scene.prototype, \"width\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"height\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        // HdpiCanvas doesn't allow width/height <= 0.\n        var lessThanZero = width <= 0 || height <= 0;\n        var unchanged = width === this.width && height === this.height;\n        if (unchanged || lessThanZero) {\n            return false;\n        }\n        this.pendingSize = [width, height];\n        this.markDirty();\n        return true;\n    };\n    Scene.prototype.addLayer = function (opts) {\n        var _a;\n        var mode = this.opts.mode;\n        var layeredModes = ['composite', 'dom-composite', 'adv-composite'];\n        if (!layeredModes.includes(mode)) {\n            return undefined;\n        }\n        var _b = opts || {}, _c = _b.zIndex, zIndex = _c === void 0 ? this._nextZIndex++ : _c, name = _b.name, zIndexSubOrder = _b.zIndexSubOrder;\n        var _d = this, width = _d.width, height = _d.height, overrideDevicePixelRatio = _d.overrideDevicePixelRatio;\n        var domLayer = mode === 'dom-composite';\n        var advLayer = mode === 'adv-composite';\n        var canvas = !advLayer || !HdpiOffscreenCanvas.isSupported()\n            ? new HdpiCanvas({\n                document: this.opts.document,\n                width: width,\n                height: height,\n                domLayer: domLayer,\n                zIndex: zIndex,\n                name: name,\n                overrideDevicePixelRatio: overrideDevicePixelRatio,\n            })\n            : new HdpiOffscreenCanvas({\n                width: width,\n                height: height,\n                overrideDevicePixelRatio: overrideDevicePixelRatio,\n            });\n        var newLayer = {\n            id: this._nextLayerId++,\n            name: name,\n            zIndex: zIndex,\n            zIndexSubOrder: zIndexSubOrder,\n            canvas: canvas,\n        };\n        if (zIndex >= this._nextZIndex) {\n            this._nextZIndex = zIndex + 1;\n        }\n        this.layers.push(newLayer);\n        this.sortLayers();\n        if (domLayer) {\n            var domCanvases = this.layers\n                .map(function (v) { return v.canvas; })\n                .filter(function (v) { return v instanceof HdpiCanvas; });\n            var newLayerIndex = domCanvases.findIndex(function (v) { return v === canvas; });\n            var lastLayer = (_a = domCanvases[newLayerIndex - 1], (_a !== null && _a !== void 0 ? _a : this.canvas));\n            lastLayer.element.insertAdjacentElement('afterend', canvas.element);\n        }\n        if (this.debug.consoleLog) {\n            console.log({ layers: this.layers });\n        }\n        return newLayer.canvas;\n    };\n    Scene.prototype.removeLayer = function (canvas) {\n        var index = this.layers.findIndex(function (l) { return l.canvas === canvas; });\n        if (index >= 0) {\n            this.layers.splice(index, 1);\n            canvas.destroy();\n            this.markDirty();\n            if (this.debug.consoleLog) {\n                console.log({ layers: this.layers });\n            }\n        }\n    };\n    Scene.prototype.moveLayer = function (canvas, newZIndex, newZIndexSubOrder) {\n        var layer = this.layers.find(function (l) { return l.canvas === canvas; });\n        if (layer) {\n            layer.zIndex = newZIndex;\n            layer.zIndexSubOrder = newZIndexSubOrder;\n            this.sortLayers();\n            this.markDirty();\n            if (this.debug.consoleLog) {\n                console.log({ layers: this.layers });\n            }\n        }\n    };\n    Scene.prototype.sortLayers = function () {\n        this.layers.sort(function (a, b) {\n            var _a, _b;\n            return compoundAscending(__spread([a.zIndex], (_a = a.zIndexSubOrder, (_a !== null && _a !== void 0 ? _a : [undefined, undefined])), [a.id]), __spread([b.zIndex], (_b = b.zIndexSubOrder, (_b !== null && _b !== void 0 ? _b : [undefined, undefined])), [b.id]), ascendingStringNumberUndefined);\n        });\n    };\n    Scene.prototype.markDirty = function () {\n        this._dirty = true;\n    };\n    Object.defineProperty(Scene.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"root\", {\n        get: function () {\n            return this._root;\n        },\n        set: function (node) {\n            if (node === this._root) {\n                return;\n            }\n            if (this._root) {\n                this._root._setScene();\n            }\n            this._root = node;\n            if (node) {\n                // If `node` is the root node of another scene ...\n                if (node.parent === null && node.scene && node.scene !== this) {\n                    node.scene.root = null;\n                }\n                node._setScene(this);\n            }\n            this.markDirty();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Scene.prototype.destroy = function () {\n        var e_1, _a;\n        this.container = undefined;\n        var layers = this.layers;\n        try {\n            for (var layers_1 = __values(layers), layers_1_1 = layers_1.next(); !layers_1_1.done; layers_1_1 = layers_1.next()) {\n                var layer = layers_1_1.value;\n                layer.canvas.destroy();\n                delete layer['canvas'];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (layers_1_1 && !layers_1_1.done && (_a = layers_1.return)) _a.call(layers_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        layers.splice(0, layers.length);\n    };\n    Scene.prototype.render = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b, debugSplitTimes, _c, extraDebugStats, _d, canvas, ctx, root, layers, pendingSize, mode, renderCtx, canvasCleared, _e, dirtyTree, paths;\n            var _f;\n            return __generator(this, function (_g) {\n                _a = opts || {}, _b = _a.debugSplitTimes, debugSplitTimes = _b === void 0 ? [performance.now()] : _b, _c = _a.extraDebugStats, extraDebugStats = _c === void 0 ? {} : _c;\n                _d = this, canvas = _d.canvas, ctx = _d.ctx, root = _d.root, layers = _d.layers, pendingSize = _d.pendingSize, mode = _d.opts.mode;\n                if (pendingSize) {\n                    (_f = this.canvas).resize.apply(_f, __spread(pendingSize));\n                    this.layers.forEach(function (layer) {\n                        var _a;\n                        return (_a = layer.canvas).resize.apply(_a, __spread(pendingSize));\n                    });\n                    this.pendingSize = undefined;\n                }\n                if (root && !root.visible) {\n                    this._dirty = false;\n                    return [2 /*return*/];\n                }\n                if (root && !this.dirty) {\n                    if (this.debug.consoleLog) {\n                        console.log('no-op', {\n                            redrawType: RedrawType[root.dirty],\n                            tree: this.buildTree(root),\n                        });\n                    }\n                    this.debugStats(debugSplitTimes, ctx, undefined, extraDebugStats);\n                    return [2 /*return*/];\n                }\n                renderCtx = {\n                    ctx: ctx,\n                    forceRender: true,\n                    resized: !!pendingSize,\n                };\n                if (this.debug.stats === 'detailed') {\n                    renderCtx.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 };\n                }\n                canvasCleared = false;\n                if (!root || root.dirty >= RedrawType.TRIVIAL) {\n                    // start with a blank canvas, clear previous drawing\n                    canvasCleared = true;\n                    canvas.clear();\n                }\n                if (root && this.debug.dirtyTree) {\n                    _e = this.buildDirtyTree(root), dirtyTree = _e.dirtyTree, paths = _e.paths;\n                    console.log({ dirtyTree: dirtyTree, paths: paths });\n                }\n                if (root && canvasCleared) {\n                    if (this.debug.consoleLog) {\n                        console.log('before', {\n                            redrawType: RedrawType[root.dirty],\n                            canvasCleared: canvasCleared,\n                            tree: this.buildTree(root),\n                        });\n                    }\n                    if (root.visible) {\n                        ctx.save();\n                        root.render(renderCtx);\n                        ctx.restore();\n                    }\n                }\n                if (mode !== 'dom-composite' && layers.length > 0 && canvasCleared) {\n                    ctx.save();\n                    ctx.setTransform(1 / canvas.pixelRatio, 0, 0, 1 / canvas.pixelRatio, 0, 0);\n                    layers.forEach(function (_a) {\n                        var _b = _a.canvas, imageSource = _b.imageSource, enabled = _b.enabled, opacity = _b.opacity;\n                        if (!enabled) {\n                            return;\n                        }\n                        ctx.globalAlpha = opacity;\n                        ctx.drawImage(imageSource, 0, 0);\n                    });\n                    ctx.restore();\n                }\n                this._dirty = false;\n                this.debugStats(debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n                if (root && this.debug.consoleLog) {\n                    console.log('after', { redrawType: RedrawType[root.dirty], canvasCleared: canvasCleared, tree: this.buildTree(root) });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    Scene.prototype.debugStats = function (debugSplitTimes, ctx, renderCtxStats, extraDebugStats) {\n        var e_2, _a;\n        if (extraDebugStats === void 0) { extraDebugStats = {}; }\n        var end = performance.now();\n        if (this.debug.stats) {\n            var start = debugSplitTimes[0];\n            debugSplitTimes.push(end);\n            var pct = function (rendered, skipped) {\n                var total = rendered + skipped;\n                return rendered + \" / \" + total + \" (\" + Math.round((100 * rendered) / total) + \"%)\";\n            };\n            var time_1 = function (start, end) {\n                return Math.round((end - start) * 100) / 100 + \"ms\";\n            };\n            var _b = (renderCtxStats !== null && renderCtxStats !== void 0 ? renderCtxStats : {}), _c = _b.layersRendered, layersRendered = _c === void 0 ? 0 : _c, _d = _b.layersSkipped, layersSkipped = _d === void 0 ? 0 : _d, _e = _b.nodesRendered, nodesRendered = _e === void 0 ? 0 : _e, _f = _b.nodesSkipped, nodesSkipped = _f === void 0 ? 0 : _f;\n            var splits = debugSplitTimes\n                .map(function (t, i) { return (i > 0 ? time_1(debugSplitTimes[i - 1], t) : null); })\n                .filter(function (v) { return v != null; })\n                .join(' + ');\n            var extras = Object.entries(extraDebugStats)\n                .map(function (_a) {\n                var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                return k + \": \" + v;\n            })\n                .join(' ; ');\n            var stats = [\n                time_1(start, end) + \" (\" + splits + \")\",\n                \"\" + extras,\n                this.debug.stats === 'detailed' ? \"Layers: \" + pct(layersRendered, layersSkipped) : null,\n                this.debug.stats === 'detailed' ? \"Nodes: \" + pct(nodesRendered, nodesSkipped) : null,\n            ].filter(function (v) { return v != null; });\n            var lineHeight = 15;\n            ctx.save();\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, 200, 10 + lineHeight * stats.length);\n            ctx.fillStyle = 'black';\n            var index = 0;\n            try {\n                for (var stats_1 = __values(stats), stats_1_1 = stats_1.next(); !stats_1_1.done; stats_1_1 = stats_1.next()) {\n                    var stat = stats_1_1.value;\n                    ctx.fillText(stat, 2, 10 + index++ * lineHeight);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (stats_1_1 && !stats_1_1.done && (_a = stats_1.return)) _a.call(stats_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            ctx.restore();\n        }\n    };\n    Scene.prototype.buildTree = function (node) {\n        var _this = this;\n        var _a;\n        var name = (_a = (node instanceof Group ? node.name : null), (_a !== null && _a !== void 0 ? _a : node.id));\n        return __assign({ name: name,\n            node: node, dirty: RedrawType[node.dirty] }, node.children\n            .map(function (c) { return _this.buildTree(c); })\n            .reduce(function (result, childTree) {\n            var treeNodeName = childTree.name, _a = childTree.node, visible = _a.visible, opacity = _a.opacity, zIndex = _a.zIndex, zIndexSubOrder = _a.zIndexSubOrder;\n            if (!visible || opacity <= 0) {\n                treeNodeName = \"( \" + treeNodeName + \" )\";\n            }\n            if (node instanceof Group && node.isLayer()) {\n                treeNodeName = \"[ \" + treeNodeName + \" ]\";\n            }\n            var key = [\n                \"\" + (treeNodeName !== null && treeNodeName !== void 0 ? treeNodeName : '<unknown>'),\n                \"z: \" + zIndex,\n                zIndexSubOrder && \"zo: \" + zIndexSubOrder.join(' / '),\n            ]\n                .filter(function (v) { return !!v; })\n                .join(' ');\n            result[key] = childTree;\n            return result;\n        }, {}));\n    };\n    Scene.prototype.buildDirtyTree = function (node) {\n        var _this = this;\n        var _a;\n        if (node.dirty === RedrawType.NONE) {\n            return { dirtyTree: {}, paths: [] };\n        }\n        var childrenDirtyTree = node.children.map(function (c) { return _this.buildDirtyTree(c); }).filter(function (c) { return c.paths.length > 0; });\n        var name = (_a = (node instanceof Group ? node.name : null), (_a !== null && _a !== void 0 ? _a : node.id));\n        var paths = childrenDirtyTree.length === 0\n            ? [name]\n            : childrenDirtyTree\n                .map(function (c) { return c.paths; })\n                .reduce(function (r, p) { return r.concat(p); }, [])\n                .map(function (p) { return name + \".\" + p; });\n        return {\n            dirtyTree: __assign({ name: name,\n                node: node, dirty: RedrawType[node.dirty] }, childrenDirtyTree\n                .map(function (c) { return c.dirtyTree; })\n                .filter(function (t) { return t.dirty !== undefined; })\n                .reduce(function (result, childTree) {\n                result[childTree.name || '<unknown>'] = childTree;\n                return result;\n            }, {})),\n            paths: paths,\n        };\n    };\n    Scene.className = 'Scene';\n    return Scene;\n}());\nexport { Scene };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}