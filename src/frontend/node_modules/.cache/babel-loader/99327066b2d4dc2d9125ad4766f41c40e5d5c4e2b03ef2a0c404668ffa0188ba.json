{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { Selection } from '../../../scene/selection';\nimport { HdpiCanvas } from '../../../canvas/hdpiCanvas';\nimport { Label } from '../../label';\nimport { SeriesTooltip, SeriesNodeClickEvent } from '../series';\nimport { HierarchySeries } from './hierarchySeries';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { Group } from '../../../scene/group';\nimport { Text } from '../../../scene/shape/text';\nimport { Rect } from '../../../scene/shape/rect';\nimport { DropShadow } from '../../../scene/dropShadow';\nimport { LinearScale } from '../../../scale/linearScale';\nimport { Treemap } from '../../../layout/treemap';\nimport { hierarchy } from '../../../layout/hierarchy';\nimport { toFixed } from '../../../util/number';\nimport { Path2D } from '../../../scene/path2D';\nimport { BOOLEAN, NUMBER, NUMBER_ARRAY, OPT_FUNCTION, OPT_STRING, STRING, COLOR_STRING_ARRAY, Validate } from '../../../util/validation';\nvar TreemapSeriesTooltip = /** @class */function (_super) {\n  __extends(TreemapSeriesTooltip, _super);\n  function TreemapSeriesTooltip() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.renderer = undefined;\n    return _this;\n  }\n  __decorate([Validate(OPT_FUNCTION)], TreemapSeriesTooltip.prototype, \"renderer\", void 0);\n  return TreemapSeriesTooltip;\n}(SeriesTooltip);\nexport { TreemapSeriesTooltip };\nvar TreemapSeriesNodeClickEvent = /** @class */function (_super) {\n  __extends(TreemapSeriesNodeClickEvent, _super);\n  function TreemapSeriesNodeClickEvent(labelKey, sizeKey, colorKey, nativeEvent, datum, series) {\n    var _this = _super.call(this, nativeEvent, datum, series) || this;\n    _this.labelKey = labelKey;\n    _this.sizeKey = sizeKey;\n    _this.colorKey = colorKey;\n    return _this;\n  }\n  return TreemapSeriesNodeClickEvent;\n}(SeriesNodeClickEvent);\nexport { TreemapSeriesNodeClickEvent };\nvar TreemapSeriesLabel = /** @class */function (_super) {\n  __extends(TreemapSeriesLabel, _super);\n  function TreemapSeriesLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.padding = 10;\n    return _this;\n  }\n  __decorate([Validate(NUMBER(0))], TreemapSeriesLabel.prototype, \"padding\", void 0);\n  return TreemapSeriesLabel;\n}(Label);\nexport { TreemapSeriesLabel };\nvar TextNodeTag;\n(function (TextNodeTag) {\n  TextNodeTag[TextNodeTag[\"Name\"] = 0] = \"Name\";\n  TextNodeTag[TextNodeTag[\"Value\"] = 1] = \"Value\";\n})(TextNodeTag || (TextNodeTag = {}));\nvar TreemapSeries = /** @class */function (_super) {\n  __extends(TreemapSeries, _super);\n  function TreemapSeries() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.groupSelection = Selection.select(_this.pickGroup).selectAll();\n    _this.highlightSelection = Selection.select(_this.highlightGroup).selectAll();\n    _this.layout = new Treemap();\n    _this.title = function () {\n      var label = new TreemapSeriesLabel();\n      label.color = 'white';\n      label.fontWeight = 'bold';\n      label.fontSize = 12;\n      label.fontFamily = 'Verdana, sans-serif';\n      label.padding = 15;\n      return label;\n    }();\n    _this.subtitle = function () {\n      var label = new TreemapSeriesLabel();\n      label.color = 'white';\n      label.fontSize = 9;\n      label.fontFamily = 'Verdana, sans-serif';\n      label.padding = 13;\n      return label;\n    }();\n    _this.labels = {\n      large: function () {\n        var label = new Label();\n        label.color = 'white';\n        label.fontWeight = 'bold';\n        label.fontSize = 18;\n        return label;\n      }(),\n      medium: function () {\n        var label = new Label();\n        label.color = 'white';\n        label.fontWeight = 'bold';\n        label.fontSize = 14;\n        return label;\n      }(),\n      small: function () {\n        var label = new Label();\n        label.color = 'white';\n        label.fontWeight = 'bold';\n        label.fontSize = 10;\n        return label;\n      }(),\n      color: function () {\n        var label = new Label();\n        label.color = 'white';\n        return label;\n      }()\n    };\n    _this._nodePadding = 2;\n    _this.labelKey = 'label';\n    _this.sizeKey = 'size';\n    _this.colorKey = 'color';\n    _this.colorDomain = [-5, 5];\n    _this.colorRange = ['#cb4b3f', '#6acb64'];\n    _this.colorParents = false;\n    _this.gradient = true;\n    _this.formatter = undefined;\n    _this.colorName = 'Change';\n    _this.rootName = 'Root';\n    _this.shadow = function () {\n      var shadow = new DropShadow();\n      shadow.color = 'rgba(0, 0, 0, 0.4)';\n      shadow.xOffset = 1.5;\n      shadow.yOffset = 1.5;\n      return shadow;\n    }();\n    _this.tooltip = new TreemapSeriesTooltip();\n    return _this;\n  }\n  Object.defineProperty(TreemapSeries.prototype, \"nodePadding\", {\n    get: function () {\n      return this._nodePadding;\n    },\n    set: function (value) {\n      if (this._nodePadding !== value) {\n        this._nodePadding = value;\n        this.updateLayoutPadding();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  TreemapSeries.prototype.updateLayoutPadding = function () {\n    var _a = this,\n      title = _a.title,\n      subtitle = _a.subtitle,\n      nodePadding = _a.nodePadding,\n      labelKey = _a.labelKey;\n    this.layout.paddingRight = function (_) {\n      return nodePadding;\n    };\n    this.layout.paddingBottom = function (_) {\n      return nodePadding;\n    };\n    this.layout.paddingLeft = function (_) {\n      return nodePadding;\n    };\n    this.layout.paddingTop = function (node) {\n      var name = node.datum[labelKey] || '';\n      if (node.children) {\n        name = name.toUpperCase();\n      }\n      var font = node.depth > 1 ? subtitle : title;\n      var textSize = HdpiCanvas.getTextSize(name, [font.fontWeight, font.fontSize + 'px', font.fontFamily].join(' ').trim());\n      var innerNodeWidth = node.x1 - node.x0 - nodePadding * 2;\n      var hasTitle = node.depth > 0 && node.children && textSize.width <= innerNodeWidth;\n      node.hasTitle = !!hasTitle;\n      return hasTitle ? textSize.height + nodePadding * 2 : nodePadding;\n    };\n  };\n  TreemapSeries.prototype.processData = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      function traverse(root, depth) {\n        if (depth === void 0) {\n          depth = 0;\n        }\n        var children = root.children,\n          datum = root.datum;\n        var label = datum[labelKey];\n        var colorValue = colorKey ? datum[colorKey] : depth;\n        Object.assign(root, {\n          series: series\n        });\n        root.fill = !children || colorParents ? colorScale.convert(colorValue) : '#272931';\n        root.colorValue = colorValue;\n        if (label) {\n          root.label = children ? label.toUpperCase() : label;\n        } else {\n          root.label = '';\n        }\n        if (children) {\n          children.forEach(function (child) {\n            return traverse(child, depth + 1);\n          });\n        }\n      }\n      var _a, data, sizeKey, labelKey, colorKey, colorDomain, colorRange, colorParents, dataRoot, colorScale, series;\n      return __generator(this, function (_b) {\n        if (!this.data) {\n          return [2 /*return*/];\n        }\n\n        _a = this, data = _a.data, sizeKey = _a.sizeKey, labelKey = _a.labelKey, colorKey = _a.colorKey, colorDomain = _a.colorDomain, colorRange = _a.colorRange, colorParents = _a.colorParents;\n        if (sizeKey) {\n          dataRoot = hierarchy(data).sum(function (datum) {\n            return datum.children ? 1 : datum[sizeKey];\n          });\n        } else {\n          dataRoot = hierarchy(data).sum(function (datum) {\n            return datum.children ? 0 : 1;\n          });\n        }\n        this.dataRoot = dataRoot;\n        colorScale = new LinearScale();\n        colorScale.domain = colorDomain;\n        colorScale.range = colorRange;\n        series = this;\n        traverse(this.dataRoot);\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  TreemapSeries.prototype.getLabelCenterX = function (datum) {\n    return (datum.x0 + datum.x1) / 2;\n  };\n  TreemapSeries.prototype.getLabelCenterY = function (datum) {\n    return (datum.y0 + datum.y1) / 2 + 2;\n  };\n  TreemapSeries.prototype.createNodeData = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, []];\n      });\n    });\n  };\n  TreemapSeries.prototype.update = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.updateSelections()];\n          case 1:\n            _a.sent();\n            return [4 /*yield*/, this.updateNodes()];\n          case 2:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  TreemapSeries.prototype.updateSelections = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, chart, dataRoot, seriesRect, descendants, _b, groupSelection, highlightSelection, update;\n      return __generator(this, function (_c) {\n        if (!this.nodeDataRefresh) {\n          return [2 /*return*/];\n        }\n\n        this.nodeDataRefresh = false;\n        _a = this, chart = _a.chart, dataRoot = _a.dataRoot;\n        if (!chart || !dataRoot) {\n          return [2 /*return*/];\n        }\n\n        seriesRect = chart.getSeriesRect();\n        if (!seriesRect) {\n          return [2 /*return*/];\n        }\n\n        this.layout.size = [seriesRect.width, seriesRect.height];\n        this.updateLayoutPadding();\n        descendants = this.layout.processData(dataRoot).descendants();\n        _b = this, groupSelection = _b.groupSelection, highlightSelection = _b.highlightSelection;\n        update = function (selection) {\n          var updateGroups = selection.setData(descendants);\n          updateGroups.exit.remove();\n          var enterGroups = updateGroups.enter.append(Group);\n          enterGroups.append(Rect);\n          enterGroups.append(Text).each(function (node) {\n            return node.tag = TextNodeTag.Name;\n          });\n          enterGroups.append(Text).each(function (node) {\n            return node.tag = TextNodeTag.Value;\n          });\n          return updateGroups.merge(enterGroups);\n        };\n        this.groupSelection = update(groupSelection);\n        this.highlightSelection = update(highlightSelection);\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  TreemapSeries.prototype.updateNodes = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, nodePadding, labels, shadow, gradient, highlightedDatum, _b, deprecatedFill, deprecatedStroke, deprecatedStrokeWidth, _c, _d, highlightedFill, highlightedFillOpacity, _e, highlightedStroke, _f, highlightedDatumStrokeWidth, formatter, colorKey, labelKey, sizeKey, labelMeta, updateRectFn, updateNodeFn, updateValueFn;\n      var _this = this;\n      return __generator(this, function (_g) {\n        if (!this.chart) {\n          return [2 /*return*/];\n        }\n\n        _a = this, nodePadding = _a.nodePadding, labels = _a.labels, shadow = _a.shadow, gradient = _a.gradient, highlightedDatum = _a.chart.highlightedDatum, _b = _a.highlightStyle, deprecatedFill = _b.fill, deprecatedStroke = _b.stroke, deprecatedStrokeWidth = _b.strokeWidth, _c = _b.item, _d = _c.fill, highlightedFill = _d === void 0 ? deprecatedFill : _d, highlightedFillOpacity = _c.fillOpacity, _e = _c.stroke, highlightedStroke = _e === void 0 ? deprecatedStroke : _e, _f = _c.strokeWidth, highlightedDatumStrokeWidth = _f === void 0 ? deprecatedStrokeWidth : _f, formatter = _a.formatter, colorKey = _a.colorKey, labelKey = _a.labelKey, sizeKey = _a.sizeKey;\n        labelMeta = this.buildLabelMeta(this.groupSelection.data);\n        updateRectFn = function (rect, datum, isDatumHighlighted) {\n          var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n          var fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : datum.fill;\n          var fillOpacity = (_a = isDatumHighlighted ? highlightedFillOpacity : 1, _a !== null && _a !== void 0 ? _a : 1);\n          var stroke = isDatumHighlighted && highlightedStroke !== undefined ? highlightedStroke : datum.depth < 2 ? undefined : 'black';\n          var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined ? highlightedDatumStrokeWidth : 1;\n          var format;\n          if (formatter) {\n            format = formatter({\n              datum: datum.datum,\n              colorKey: colorKey,\n              sizeKey: sizeKey,\n              labelKey: labelKey,\n              fill: fill,\n              stroke: stroke,\n              strokeWidth: strokeWidth,\n              gradient: gradient,\n              highlighted: isDatumHighlighted\n            });\n          }\n          rect.fill = (_c = (_b = format) === null || _b === void 0 ? void 0 : _b.fill, _c !== null && _c !== void 0 ? _c : fill);\n          rect.fillOpacity = (_e = (_d = format) === null || _d === void 0 ? void 0 : _d.fillOpacity, _e !== null && _e !== void 0 ? _e : fillOpacity);\n          rect.stroke = (_g = (_f = format) === null || _f === void 0 ? void 0 : _f.stroke, _g !== null && _g !== void 0 ? _g : stroke);\n          rect.strokeWidth = (_j = (_h = format) === null || _h === void 0 ? void 0 : _h.strokeWidth, _j !== null && _j !== void 0 ? _j : strokeWidth);\n          rect.gradient = (_l = (_k = format) === null || _k === void 0 ? void 0 : _k.gradient, _l !== null && _l !== void 0 ? _l : gradient);\n          rect.crisp = true;\n          rect.x = datum.x0;\n          rect.y = datum.y0;\n          rect.width = datum.x1 - datum.x0;\n          rect.height = datum.y1 - datum.y0;\n          if (isDatumHighlighted && datum.children) {\n            var x0 = datum.x0,\n              x1 = datum.x1,\n              y0 = datum.y0,\n              y1 = datum.y1;\n            var pLeft = _this.layout.paddingLeft(datum);\n            var pRight = _this.layout.paddingRight(datum);\n            var pTop = _this.layout.paddingTop(datum);\n            var pBottom = _this.layout.paddingBottom(datum);\n            if (rect.clipPath) {\n              rect.clipPath.clear();\n            } else {\n              rect.clipPath = new Path2D();\n            }\n            rect.clipMode = 'punch-out';\n            rect.clipPath.moveTo(x0 + pLeft, y0 + pTop);\n            rect.clipPath.lineTo(x1 - pRight, y0 + pTop);\n            rect.clipPath.lineTo(x1 - pRight, y1 - pBottom);\n            rect.clipPath.lineTo(x0 + pLeft, y1 - pBottom);\n            rect.clipPath.lineTo(x0 + pLeft, y0 + pTop);\n            rect.clipPath.closePath();\n          }\n        };\n        this.groupSelection.selectByClass(Rect).each(function (rect, datum) {\n          return updateRectFn(rect, datum, false);\n        });\n        this.highlightSelection.selectByClass(Rect).each(function (rect, datum) {\n          var isDatumHighlighted = datum === highlightedDatum;\n          rect.visible = isDatumHighlighted;\n          if (rect.visible) {\n            updateRectFn(rect, datum, isDatumHighlighted);\n          }\n        });\n        updateNodeFn = function (text, datum, index, highlighted) {\n          var _a;\n          var hasTitle = datum.hasTitle;\n          var _b = (_a = labelMeta[index], _a !== null && _a !== void 0 ? _a : {}),\n            label = _b.label,\n            textBaseline = _b.nodeBaseline;\n          if (label != null && textBaseline != null) {\n            text.textBaseline = textBaseline;\n            text.fontWeight = label.fontWeight;\n            text.fontSize = label.fontSize;\n            text.fontFamily = label.fontFamily;\n            text.textAlign = hasTitle ? 'left' : 'center';\n            text.text = datum.label;\n            text.fill = highlighted ? 'black' : label.color;\n            text.fillShadow = !highlighted ? shadow : undefined;\n            text.visible = true;\n          } else {\n            text.visible = false;\n          }\n          if (hasTitle) {\n            text.x = datum.x0 + nodePadding;\n            text.y = datum.y0 + nodePadding;\n          } else {\n            text.x = _this.getLabelCenterX(datum);\n            text.y = _this.getLabelCenterY(datum);\n          }\n        };\n        this.groupSelection.selectByTag(TextNodeTag.Name).each(function (text, datum, index) {\n          return updateNodeFn(text, datum, index, false);\n        });\n        this.highlightSelection.selectByTag(TextNodeTag.Name).each(function (text, datum, index) {\n          var isDatumHighlighted = datum === highlightedDatum;\n          text.visible = isDatumHighlighted;\n          if (text.visible) {\n            updateNodeFn(text, datum, index, isDatumHighlighted);\n          }\n        });\n        updateValueFn = function (text, datum, index, highlighted) {\n          var _a;\n          var _b = (_a = labelMeta[index], _a !== null && _a !== void 0 ? _a : {}),\n            textBaseline = _b.valueBaseline,\n            valueText = _b.valueText;\n          var label = labels.color;\n          if (label.enabled && textBaseline != null && valueText) {\n            text.fontSize = label.fontSize;\n            text.fontFamily = label.fontFamily;\n            text.fontStyle = label.fontStyle;\n            text.fontWeight = label.fontWeight;\n            text.textBaseline = textBaseline;\n            text.textAlign = 'center';\n            text.text = valueText;\n            text.fill = highlighted ? 'black' : label.color;\n            text.fillShadow = highlighted ? undefined : shadow;\n            text.visible = true;\n            text.x = _this.getLabelCenterX(datum);\n            text.y = _this.getLabelCenterY(datum);\n          } else {\n            text.visible = false;\n          }\n        };\n        this.groupSelection.selectByTag(TextNodeTag.Value).each(function (text, datum, index) {\n          return updateValueFn(text, datum, index, false);\n        });\n        this.highlightSelection.selectByTag(TextNodeTag.Value).each(function (text, datum, index) {\n          var isDatumHighlighted = datum === highlightedDatum;\n          text.visible = isDatumHighlighted;\n          if (text.visible) {\n            updateValueFn(text, datum, index, isDatumHighlighted);\n          }\n        });\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  TreemapSeries.prototype.buildLabelMeta = function (data) {\n    var e_1, _a;\n    var _b = this,\n      labels = _b.labels,\n      title = _b.title,\n      subtitle = _b.subtitle,\n      nodePadding = _b.nodePadding,\n      colorKey = _b.colorKey;\n    var labelMeta = [];\n    labelMeta.length = this.groupSelection.data.length;\n    var text = new Text();\n    var index = 0;\n    try {\n      for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n        var datum = data_1_1.value;\n        var value = datum.value;\n        var isLeaf = !datum.children;\n        var innerNodeWidth = datum.x1 - datum.x0 - nodePadding * 2;\n        var innerNodeHeight = datum.y1 - datum.y0 - nodePadding * 2;\n        var hasTitle = datum.hasTitle;\n        var label = void 0;\n        if (isLeaf) {\n          if (innerNodeWidth > 40 && innerNodeHeight > 40) {\n            label = labels.large;\n          } else if (innerNodeWidth > 20 && innerNodeHeight > 20) {\n            label = labels.medium;\n          } else {\n            label = labels.small;\n          }\n        } else if (datum.depth > 1) {\n          label = subtitle;\n        } else {\n          label = title;\n        }\n        if (!label.enabled) {\n          labelMeta[index++] = undefined;\n          continue;\n        }\n        text.fontWeight = label.fontWeight;\n        text.fontSize = label.fontSize;\n        text.fontFamily = label.fontFamily;\n        text.textAlign = hasTitle ? 'left' : 'center';\n        text.text = datum.label;\n        var nodeBBox = text.computeBBox();\n        var hasNode = isLeaf && !!nodeBBox && nodeBBox.width <= innerNodeWidth && nodeBBox.height * 2 + 8 <= innerNodeHeight;\n        var valueText = typeof value === 'number' && isFinite(value) ? String(toFixed(datum.colorValue)) + '%' : '';\n        text.fontSize = labels.color.fontSize;\n        text.fontFamily = labels.color.fontFamily;\n        text.fontStyle = labels.color.fontStyle;\n        text.fontWeight = labels.color.fontWeight;\n        text.text = valueText;\n        var valueBBox = text.computeBBox();\n        var hasValue = isLeaf && !!colorKey && hasNode && !!valueBBox && valueBBox.width < innerNodeWidth;\n        var nodeBaseline = hasValue ? 'bottom' : isLeaf ? 'middle' : hasTitle ? 'top' : 'middle';\n        labelMeta[index++] = {\n          label: label,\n          nodeBaseline: hasTitle || hasNode ? nodeBaseline : undefined,\n          valueBaseline: hasValue ? 'top' : undefined,\n          valueText: valueText\n        };\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    return labelMeta;\n  };\n  TreemapSeries.prototype.getDomain = function (_direction) {\n    return [0, 1];\n  };\n  TreemapSeries.prototype.getNodeClickEvent = function (event, datum) {\n    return new TreemapSeriesNodeClickEvent(this.labelKey, this.sizeKey, this.colorKey, event, datum, this);\n  };\n  TreemapSeries.prototype.getTooltipHtml = function (nodeDatum) {\n    var _a = this,\n      tooltip = _a.tooltip,\n      sizeKey = _a.sizeKey,\n      labelKey = _a.labelKey,\n      colorKey = _a.colorKey,\n      colorName = _a.colorName,\n      rootName = _a.rootName,\n      seriesId = _a.id;\n    var datum = nodeDatum.datum;\n    var tooltipRenderer = tooltip.renderer;\n    var title = nodeDatum.depth ? datum[labelKey] : rootName || datum[labelKey];\n    var content = undefined;\n    var color = nodeDatum.fill || 'gray';\n    if (colorKey && colorName) {\n      var colorValue = datum[colorKey];\n      if (typeof colorValue === 'number' && isFinite(colorValue)) {\n        content = \"<b>\" + colorName + \"</b>: \" + toFixed(datum[colorKey]);\n      }\n    }\n    var defaults = {\n      title: title,\n      backgroundColor: color,\n      content: content\n    };\n    if (tooltipRenderer) {\n      return toTooltipHtml(tooltipRenderer({\n        datum: nodeDatum,\n        sizeKey: sizeKey,\n        labelKey: labelKey,\n        colorKey: colorKey,\n        title: title,\n        color: color,\n        seriesId: seriesId\n      }), defaults);\n    }\n    return toTooltipHtml(defaults);\n  };\n  TreemapSeries.prototype.getLegendData = function () {\n    // Override point for subclasses.\n    return [];\n  };\n  TreemapSeries.className = 'TreemapSeries';\n  TreemapSeries.type = 'treemap';\n  __decorate([Validate(STRING)], TreemapSeries.prototype, \"labelKey\", void 0);\n  __decorate([Validate(OPT_STRING)], TreemapSeries.prototype, \"sizeKey\", void 0);\n  __decorate([Validate(OPT_STRING)], TreemapSeries.prototype, \"colorKey\", void 0);\n  __decorate([Validate(NUMBER_ARRAY)], TreemapSeries.prototype, \"colorDomain\", void 0);\n  __decorate([Validate(COLOR_STRING_ARRAY)], TreemapSeries.prototype, \"colorRange\", void 0);\n  __decorate([Validate(BOOLEAN)], TreemapSeries.prototype, \"colorParents\", void 0);\n  __decorate([Validate(BOOLEAN)], TreemapSeries.prototype, \"gradient\", void 0);\n  __decorate([Validate(OPT_FUNCTION)], TreemapSeries.prototype, \"formatter\", void 0);\n  __decorate([Validate(STRING)], TreemapSeries.prototype, \"colorName\", void 0);\n  __decorate([Validate(STRING)], TreemapSeries.prototype, \"rootName\", void 0);\n  return TreemapSeries;\n}(HierarchySeries);\nexport { TreemapSeries };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","push","__values","o","s","m","Selection","HdpiCanvas","Label","SeriesTooltip","SeriesNodeClickEvent","HierarchySeries","toTooltipHtml","Group","Text","Rect","DropShadow","LinearScale","Treemap","hierarchy","toFixed","Path2D","BOOLEAN","NUMBER","NUMBER_ARRAY","OPT_FUNCTION","OPT_STRING","STRING","COLOR_STRING_ARRAY","Validate","TreemapSeriesTooltip","_super","_this","renderer","undefined","TreemapSeriesNodeClickEvent","labelKey","sizeKey","colorKey","nativeEvent","datum","series","TreemapSeriesLabel","padding","TextNodeTag","TreemapSeries","groupSelection","select","pickGroup","selectAll","highlightSelection","highlightGroup","layout","title","color","fontWeight","fontSize","fontFamily","subtitle","labels","large","medium","small","_nodePadding","colorDomain","colorRange","colorParents","gradient","formatter","colorName","rootName","shadow","xOffset","yOffset","tooltip","get","set","updateLayoutPadding","enumerable","configurable","_a","nodePadding","paddingRight","paddingBottom","paddingLeft","paddingTop","node","name","children","toUpperCase","font","depth","textSize","getTextSize","join","trim","innerNodeWidth","x1","x0","hasTitle","width","height","processData","traverse","root","colorValue","assign","fill","colorScale","convert","forEach","child","data","dataRoot","_b","sum","domain","range","getLabelCenterX","getLabelCenterY","y0","y1","createNodeData","update","updateSelections","updateNodes","chart","seriesRect","descendants","_c","nodeDataRefresh","getSeriesRect","size","selection","updateGroups","setData","exit","remove","enterGroups","enter","append","each","tag","Name","Value","merge","highlightedDatum","deprecatedFill","deprecatedStroke","deprecatedStrokeWidth","_d","highlightedFill","highlightedFillOpacity","_e","highlightedStroke","_f","highlightedDatumStrokeWidth","labelMeta","updateRectFn","updateNodeFn","updateValueFn","_g","highlightStyle","stroke","strokeWidth","item","fillOpacity","buildLabelMeta","rect","isDatumHighlighted","_h","_j","_k","_l","format","highlighted","crisp","x","pLeft","pRight","pTop","pBottom","clipPath","clear","clipMode","moveTo","lineTo","closePath","selectByClass","visible","text","index","textBaseline","nodeBaseline","textAlign","fillShadow","selectByTag","valueBaseline","valueText","enabled","fontStyle","e_1","data_1","data_1_1","isLeaf","innerNodeHeight","nodeBBox","computeBBox","hasNode","isFinite","String","valueBBox","hasValue","e_1_1","error","return","getDomain","_direction","getNodeClickEvent","event","getTooltipHtml","nodeDatum","seriesId","id","tooltipRenderer","content","defaults","backgroundColor","getLegendData","className","type"],"sources":["C:/Users/guzny/OneDrive/Рабочий стол/frontend/node_modules/ag-charts-community/dist/esm/es5/chart/series/hierarchy/treemapSeries.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { Selection } from '../../../scene/selection';\nimport { HdpiCanvas } from '../../../canvas/hdpiCanvas';\nimport { Label } from '../../label';\nimport { SeriesTooltip, SeriesNodeClickEvent } from '../series';\nimport { HierarchySeries } from './hierarchySeries';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { Group } from '../../../scene/group';\nimport { Text } from '../../../scene/shape/text';\nimport { Rect } from '../../../scene/shape/rect';\nimport { DropShadow } from '../../../scene/dropShadow';\nimport { LinearScale } from '../../../scale/linearScale';\nimport { Treemap } from '../../../layout/treemap';\nimport { hierarchy } from '../../../layout/hierarchy';\nimport { toFixed } from '../../../util/number';\nimport { Path2D } from '../../../scene/path2D';\nimport { BOOLEAN, NUMBER, NUMBER_ARRAY, OPT_FUNCTION, OPT_STRING, STRING, COLOR_STRING_ARRAY, Validate, } from '../../../util/validation';\nvar TreemapSeriesTooltip = /** @class */ (function (_super) {\n    __extends(TreemapSeriesTooltip, _super);\n    function TreemapSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], TreemapSeriesTooltip.prototype, \"renderer\", void 0);\n    return TreemapSeriesTooltip;\n}(SeriesTooltip));\nexport { TreemapSeriesTooltip };\nvar TreemapSeriesNodeClickEvent = /** @class */ (function (_super) {\n    __extends(TreemapSeriesNodeClickEvent, _super);\n    function TreemapSeriesNodeClickEvent(labelKey, sizeKey, colorKey, nativeEvent, datum, series) {\n        var _this = _super.call(this, nativeEvent, datum, series) || this;\n        _this.labelKey = labelKey;\n        _this.sizeKey = sizeKey;\n        _this.colorKey = colorKey;\n        return _this;\n    }\n    return TreemapSeriesNodeClickEvent;\n}(SeriesNodeClickEvent));\nexport { TreemapSeriesNodeClickEvent };\nvar TreemapSeriesLabel = /** @class */ (function (_super) {\n    __extends(TreemapSeriesLabel, _super);\n    function TreemapSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.padding = 10;\n        return _this;\n    }\n    __decorate([\n        Validate(NUMBER(0))\n    ], TreemapSeriesLabel.prototype, \"padding\", void 0);\n    return TreemapSeriesLabel;\n}(Label));\nexport { TreemapSeriesLabel };\nvar TextNodeTag;\n(function (TextNodeTag) {\n    TextNodeTag[TextNodeTag[\"Name\"] = 0] = \"Name\";\n    TextNodeTag[TextNodeTag[\"Value\"] = 1] = \"Value\";\n})(TextNodeTag || (TextNodeTag = {}));\nvar TreemapSeries = /** @class */ (function (_super) {\n    __extends(TreemapSeries, _super);\n    function TreemapSeries() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.groupSelection = Selection.select(_this.pickGroup).selectAll();\n        _this.highlightSelection = Selection.select(_this.highlightGroup).selectAll();\n        _this.layout = new Treemap();\n        _this.title = (function () {\n            var label = new TreemapSeriesLabel();\n            label.color = 'white';\n            label.fontWeight = 'bold';\n            label.fontSize = 12;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 15;\n            return label;\n        })();\n        _this.subtitle = (function () {\n            var label = new TreemapSeriesLabel();\n            label.color = 'white';\n            label.fontSize = 9;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 13;\n            return label;\n        })();\n        _this.labels = {\n            large: (function () {\n                var label = new Label();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 18;\n                return label;\n            })(),\n            medium: (function () {\n                var label = new Label();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 14;\n                return label;\n            })(),\n            small: (function () {\n                var label = new Label();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 10;\n                return label;\n            })(),\n            color: (function () {\n                var label = new Label();\n                label.color = 'white';\n                return label;\n            })(),\n        };\n        _this._nodePadding = 2;\n        _this.labelKey = 'label';\n        _this.sizeKey = 'size';\n        _this.colorKey = 'color';\n        _this.colorDomain = [-5, 5];\n        _this.colorRange = ['#cb4b3f', '#6acb64'];\n        _this.colorParents = false;\n        _this.gradient = true;\n        _this.formatter = undefined;\n        _this.colorName = 'Change';\n        _this.rootName = 'Root';\n        _this.shadow = (function () {\n            var shadow = new DropShadow();\n            shadow.color = 'rgba(0, 0, 0, 0.4)';\n            shadow.xOffset = 1.5;\n            shadow.yOffset = 1.5;\n            return shadow;\n        })();\n        _this.tooltip = new TreemapSeriesTooltip();\n        return _this;\n    }\n    Object.defineProperty(TreemapSeries.prototype, \"nodePadding\", {\n        get: function () {\n            return this._nodePadding;\n        },\n        set: function (value) {\n            if (this._nodePadding !== value) {\n                this._nodePadding = value;\n                this.updateLayoutPadding();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TreemapSeries.prototype.updateLayoutPadding = function () {\n        var _a = this, title = _a.title, subtitle = _a.subtitle, nodePadding = _a.nodePadding, labelKey = _a.labelKey;\n        this.layout.paddingRight = function (_) { return nodePadding; };\n        this.layout.paddingBottom = function (_) { return nodePadding; };\n        this.layout.paddingLeft = function (_) { return nodePadding; };\n        this.layout.paddingTop = function (node) {\n            var name = node.datum[labelKey] || '';\n            if (node.children) {\n                name = name.toUpperCase();\n            }\n            var font = node.depth > 1 ? subtitle : title;\n            var textSize = HdpiCanvas.getTextSize(name, [font.fontWeight, font.fontSize + 'px', font.fontFamily].join(' ').trim());\n            var innerNodeWidth = node.x1 - node.x0 - nodePadding * 2;\n            var hasTitle = node.depth > 0 && node.children && textSize.width <= innerNodeWidth;\n            node.hasTitle = !!hasTitle;\n            return hasTitle ? textSize.height + nodePadding * 2 : nodePadding;\n        };\n    };\n    TreemapSeries.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            function traverse(root, depth) {\n                if (depth === void 0) { depth = 0; }\n                var children = root.children, datum = root.datum;\n                var label = datum[labelKey];\n                var colorValue = colorKey ? datum[colorKey] : depth;\n                Object.assign(root, { series: series });\n                root.fill = !children || colorParents ? colorScale.convert(colorValue) : '#272931';\n                root.colorValue = colorValue;\n                if (label) {\n                    root.label = children ? label.toUpperCase() : label;\n                }\n                else {\n                    root.label = '';\n                }\n                if (children) {\n                    children.forEach(function (child) { return traverse(child, depth + 1); });\n                }\n            }\n            var _a, data, sizeKey, labelKey, colorKey, colorDomain, colorRange, colorParents, dataRoot, colorScale, series;\n            return __generator(this, function (_b) {\n                if (!this.data) {\n                    return [2 /*return*/];\n                }\n                _a = this, data = _a.data, sizeKey = _a.sizeKey, labelKey = _a.labelKey, colorKey = _a.colorKey, colorDomain = _a.colorDomain, colorRange = _a.colorRange, colorParents = _a.colorParents;\n                if (sizeKey) {\n                    dataRoot = hierarchy(data).sum(function (datum) { return (datum.children ? 1 : datum[sizeKey]); });\n                }\n                else {\n                    dataRoot = hierarchy(data).sum(function (datum) { return (datum.children ? 0 : 1); });\n                }\n                this.dataRoot = dataRoot;\n                colorScale = new LinearScale();\n                colorScale.domain = colorDomain;\n                colorScale.range = colorRange;\n                series = this;\n                traverse(this.dataRoot);\n                return [2 /*return*/];\n            });\n        });\n    };\n    TreemapSeries.prototype.getLabelCenterX = function (datum) {\n        return (datum.x0 + datum.x1) / 2;\n    };\n    TreemapSeries.prototype.getLabelCenterY = function (datum) {\n        return (datum.y0 + datum.y1) / 2 + 2;\n    };\n    TreemapSeries.prototype.createNodeData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, []];\n            });\n        });\n    };\n    TreemapSeries.prototype.update = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.updateSelections()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.updateNodes()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TreemapSeries.prototype.updateSelections = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, chart, dataRoot, seriesRect, descendants, _b, groupSelection, highlightSelection, update;\n            return __generator(this, function (_c) {\n                if (!this.nodeDataRefresh) {\n                    return [2 /*return*/];\n                }\n                this.nodeDataRefresh = false;\n                _a = this, chart = _a.chart, dataRoot = _a.dataRoot;\n                if (!chart || !dataRoot) {\n                    return [2 /*return*/];\n                }\n                seriesRect = chart.getSeriesRect();\n                if (!seriesRect) {\n                    return [2 /*return*/];\n                }\n                this.layout.size = [seriesRect.width, seriesRect.height];\n                this.updateLayoutPadding();\n                descendants = this.layout.processData(dataRoot).descendants();\n                _b = this, groupSelection = _b.groupSelection, highlightSelection = _b.highlightSelection;\n                update = function (selection) {\n                    var updateGroups = selection.setData(descendants);\n                    updateGroups.exit.remove();\n                    var enterGroups = updateGroups.enter.append(Group);\n                    enterGroups.append(Rect);\n                    enterGroups.append(Text).each(function (node) { return (node.tag = TextNodeTag.Name); });\n                    enterGroups.append(Text).each(function (node) { return (node.tag = TextNodeTag.Value); });\n                    return updateGroups.merge(enterGroups);\n                };\n                this.groupSelection = update(groupSelection);\n                this.highlightSelection = update(highlightSelection);\n                return [2 /*return*/];\n            });\n        });\n    };\n    TreemapSeries.prototype.updateNodes = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, nodePadding, labels, shadow, gradient, highlightedDatum, _b, deprecatedFill, deprecatedStroke, deprecatedStrokeWidth, _c, _d, highlightedFill, highlightedFillOpacity, _e, highlightedStroke, _f, highlightedDatumStrokeWidth, formatter, colorKey, labelKey, sizeKey, labelMeta, updateRectFn, updateNodeFn, updateValueFn;\n            var _this = this;\n            return __generator(this, function (_g) {\n                if (!this.chart) {\n                    return [2 /*return*/];\n                }\n                _a = this, nodePadding = _a.nodePadding, labels = _a.labels, shadow = _a.shadow, gradient = _a.gradient, highlightedDatum = _a.chart.highlightedDatum, _b = _a.highlightStyle, deprecatedFill = _b.fill, deprecatedStroke = _b.stroke, deprecatedStrokeWidth = _b.strokeWidth, _c = _b.item, _d = _c.fill, highlightedFill = _d === void 0 ? deprecatedFill : _d, highlightedFillOpacity = _c.fillOpacity, _e = _c.stroke, highlightedStroke = _e === void 0 ? deprecatedStroke : _e, _f = _c.strokeWidth, highlightedDatumStrokeWidth = _f === void 0 ? deprecatedStrokeWidth : _f, formatter = _a.formatter, colorKey = _a.colorKey, labelKey = _a.labelKey, sizeKey = _a.sizeKey;\n                labelMeta = this.buildLabelMeta(this.groupSelection.data);\n                updateRectFn = function (rect, datum, isDatumHighlighted) {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n                    var fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : datum.fill;\n                    var fillOpacity = (_a = (isDatumHighlighted ? highlightedFillOpacity : 1), (_a !== null && _a !== void 0 ? _a : 1));\n                    var stroke = isDatumHighlighted && highlightedStroke !== undefined\n                        ? highlightedStroke\n                        : datum.depth < 2\n                            ? undefined\n                            : 'black';\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined ? highlightedDatumStrokeWidth : 1;\n                    var format;\n                    if (formatter) {\n                        format = formatter({\n                            datum: datum.datum,\n                            colorKey: colorKey,\n                            sizeKey: sizeKey,\n                            labelKey: labelKey,\n                            fill: fill,\n                            stroke: stroke,\n                            strokeWidth: strokeWidth,\n                            gradient: gradient,\n                            highlighted: isDatumHighlighted,\n                        });\n                    }\n                    rect.fill = (_c = (_b = format) === null || _b === void 0 ? void 0 : _b.fill, (_c !== null && _c !== void 0 ? _c : fill));\n                    rect.fillOpacity = (_e = (_d = format) === null || _d === void 0 ? void 0 : _d.fillOpacity, (_e !== null && _e !== void 0 ? _e : fillOpacity));\n                    rect.stroke = (_g = (_f = format) === null || _f === void 0 ? void 0 : _f.stroke, (_g !== null && _g !== void 0 ? _g : stroke));\n                    rect.strokeWidth = (_j = (_h = format) === null || _h === void 0 ? void 0 : _h.strokeWidth, (_j !== null && _j !== void 0 ? _j : strokeWidth));\n                    rect.gradient = (_l = (_k = format) === null || _k === void 0 ? void 0 : _k.gradient, (_l !== null && _l !== void 0 ? _l : gradient));\n                    rect.crisp = true;\n                    rect.x = datum.x0;\n                    rect.y = datum.y0;\n                    rect.width = datum.x1 - datum.x0;\n                    rect.height = datum.y1 - datum.y0;\n                    if (isDatumHighlighted && datum.children) {\n                        var x0 = datum.x0, x1 = datum.x1, y0 = datum.y0, y1 = datum.y1;\n                        var pLeft = _this.layout.paddingLeft(datum);\n                        var pRight = _this.layout.paddingRight(datum);\n                        var pTop = _this.layout.paddingTop(datum);\n                        var pBottom = _this.layout.paddingBottom(datum);\n                        if (rect.clipPath) {\n                            rect.clipPath.clear();\n                        }\n                        else {\n                            rect.clipPath = new Path2D();\n                        }\n                        rect.clipMode = 'punch-out';\n                        rect.clipPath.moveTo(x0 + pLeft, y0 + pTop);\n                        rect.clipPath.lineTo(x1 - pRight, y0 + pTop);\n                        rect.clipPath.lineTo(x1 - pRight, y1 - pBottom);\n                        rect.clipPath.lineTo(x0 + pLeft, y1 - pBottom);\n                        rect.clipPath.lineTo(x0 + pLeft, y0 + pTop);\n                        rect.clipPath.closePath();\n                    }\n                };\n                this.groupSelection.selectByClass(Rect).each(function (rect, datum) { return updateRectFn(rect, datum, false); });\n                this.highlightSelection.selectByClass(Rect).each(function (rect, datum) {\n                    var isDatumHighlighted = datum === highlightedDatum;\n                    rect.visible = isDatumHighlighted;\n                    if (rect.visible) {\n                        updateRectFn(rect, datum, isDatumHighlighted);\n                    }\n                });\n                updateNodeFn = function (text, datum, index, highlighted) {\n                    var _a;\n                    var hasTitle = datum.hasTitle;\n                    var _b = (_a = labelMeta[index], (_a !== null && _a !== void 0 ? _a : {})), label = _b.label, textBaseline = _b.nodeBaseline;\n                    if (label != null && textBaseline != null) {\n                        text.textBaseline = textBaseline;\n                        text.fontWeight = label.fontWeight;\n                        text.fontSize = label.fontSize;\n                        text.fontFamily = label.fontFamily;\n                        text.textAlign = hasTitle ? 'left' : 'center';\n                        text.text = datum.label;\n                        text.fill = highlighted ? 'black' : label.color;\n                        text.fillShadow = !highlighted ? shadow : undefined;\n                        text.visible = true;\n                    }\n                    else {\n                        text.visible = false;\n                    }\n                    if (hasTitle) {\n                        text.x = datum.x0 + nodePadding;\n                        text.y = datum.y0 + nodePadding;\n                    }\n                    else {\n                        text.x = _this.getLabelCenterX(datum);\n                        text.y = _this.getLabelCenterY(datum);\n                    }\n                };\n                this.groupSelection\n                    .selectByTag(TextNodeTag.Name)\n                    .each(function (text, datum, index) { return updateNodeFn(text, datum, index, false); });\n                this.highlightSelection.selectByTag(TextNodeTag.Name).each(function (text, datum, index) {\n                    var isDatumHighlighted = datum === highlightedDatum;\n                    text.visible = isDatumHighlighted;\n                    if (text.visible) {\n                        updateNodeFn(text, datum, index, isDatumHighlighted);\n                    }\n                });\n                updateValueFn = function (text, datum, index, highlighted) {\n                    var _a;\n                    var _b = (_a = labelMeta[index], (_a !== null && _a !== void 0 ? _a : {})), textBaseline = _b.valueBaseline, valueText = _b.valueText;\n                    var label = labels.color;\n                    if (label.enabled && textBaseline != null && valueText) {\n                        text.fontSize = label.fontSize;\n                        text.fontFamily = label.fontFamily;\n                        text.fontStyle = label.fontStyle;\n                        text.fontWeight = label.fontWeight;\n                        text.textBaseline = textBaseline;\n                        text.textAlign = 'center';\n                        text.text = valueText;\n                        text.fill = highlighted ? 'black' : label.color;\n                        text.fillShadow = highlighted ? undefined : shadow;\n                        text.visible = true;\n                        text.x = _this.getLabelCenterX(datum);\n                        text.y = _this.getLabelCenterY(datum);\n                    }\n                    else {\n                        text.visible = false;\n                    }\n                };\n                this.groupSelection\n                    .selectByTag(TextNodeTag.Value)\n                    .each(function (text, datum, index) { return updateValueFn(text, datum, index, false); });\n                this.highlightSelection.selectByTag(TextNodeTag.Value).each(function (text, datum, index) {\n                    var isDatumHighlighted = datum === highlightedDatum;\n                    text.visible = isDatumHighlighted;\n                    if (text.visible) {\n                        updateValueFn(text, datum, index, isDatumHighlighted);\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    TreemapSeries.prototype.buildLabelMeta = function (data) {\n        var e_1, _a;\n        var _b = this, labels = _b.labels, title = _b.title, subtitle = _b.subtitle, nodePadding = _b.nodePadding, colorKey = _b.colorKey;\n        var labelMeta = [];\n        labelMeta.length = this.groupSelection.data.length;\n        var text = new Text();\n        var index = 0;\n        try {\n            for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                var datum = data_1_1.value;\n                var value = datum.value;\n                var isLeaf = !datum.children;\n                var innerNodeWidth = datum.x1 - datum.x0 - nodePadding * 2;\n                var innerNodeHeight = datum.y1 - datum.y0 - nodePadding * 2;\n                var hasTitle = datum.hasTitle;\n                var label = void 0;\n                if (isLeaf) {\n                    if (innerNodeWidth > 40 && innerNodeHeight > 40) {\n                        label = labels.large;\n                    }\n                    else if (innerNodeWidth > 20 && innerNodeHeight > 20) {\n                        label = labels.medium;\n                    }\n                    else {\n                        label = labels.small;\n                    }\n                }\n                else if (datum.depth > 1) {\n                    label = subtitle;\n                }\n                else {\n                    label = title;\n                }\n                if (!label.enabled) {\n                    labelMeta[index++] = undefined;\n                    continue;\n                }\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.textAlign = hasTitle ? 'left' : 'center';\n                text.text = datum.label;\n                var nodeBBox = text.computeBBox();\n                var hasNode = isLeaf && !!nodeBBox && nodeBBox.width <= innerNodeWidth && nodeBBox.height * 2 + 8 <= innerNodeHeight;\n                var valueText = typeof value === 'number' && isFinite(value) ? String(toFixed(datum.colorValue)) + '%' : '';\n                text.fontSize = labels.color.fontSize;\n                text.fontFamily = labels.color.fontFamily;\n                text.fontStyle = labels.color.fontStyle;\n                text.fontWeight = labels.color.fontWeight;\n                text.text = valueText;\n                var valueBBox = text.computeBBox();\n                var hasValue = isLeaf && !!colorKey && hasNode && !!valueBBox && valueBBox.width < innerNodeWidth;\n                var nodeBaseline = hasValue ? 'bottom' : isLeaf ? 'middle' : hasTitle ? 'top' : 'middle';\n                labelMeta[index++] = {\n                    label: label,\n                    nodeBaseline: hasTitle || hasNode ? nodeBaseline : undefined,\n                    valueBaseline: hasValue ? 'top' : undefined,\n                    valueText: valueText,\n                };\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return labelMeta;\n    };\n    TreemapSeries.prototype.getDomain = function (_direction) {\n        return [0, 1];\n    };\n    TreemapSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new TreemapSeriesNodeClickEvent(this.labelKey, this.sizeKey, this.colorKey, event, datum, this);\n    };\n    TreemapSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, tooltip = _a.tooltip, sizeKey = _a.sizeKey, labelKey = _a.labelKey, colorKey = _a.colorKey, colorName = _a.colorName, rootName = _a.rootName, seriesId = _a.id;\n        var datum = nodeDatum.datum;\n        var tooltipRenderer = tooltip.renderer;\n        var title = nodeDatum.depth ? datum[labelKey] : rootName || datum[labelKey];\n        var content = undefined;\n        var color = nodeDatum.fill || 'gray';\n        if (colorKey && colorName) {\n            var colorValue = datum[colorKey];\n            if (typeof colorValue === 'number' && isFinite(colorValue)) {\n                content = \"<b>\" + colorName + \"</b>: \" + toFixed(datum[colorKey]);\n            }\n        }\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: nodeDatum,\n                sizeKey: sizeKey,\n                labelKey: labelKey,\n                colorKey: colorKey,\n                title: title,\n                color: color,\n                seriesId: seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    TreemapSeries.prototype.getLegendData = function () {\n        // Override point for subclasses.\n        return [];\n    };\n    TreemapSeries.className = 'TreemapSeries';\n    TreemapSeries.type = 'treemap';\n    __decorate([\n        Validate(STRING)\n    ], TreemapSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapSeries.prototype, \"sizeKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapSeries.prototype, \"colorKey\", void 0);\n    __decorate([\n        Validate(NUMBER_ARRAY)\n    ], TreemapSeries.prototype, \"colorDomain\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], TreemapSeries.prototype, \"colorRange\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], TreemapSeries.prototype, \"colorParents\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], TreemapSeries.prototype, \"gradient\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], TreemapSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], TreemapSeries.prototype, \"colorName\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], TreemapSeries.prototype, \"rootName\", void 0);\n    return TreemapSeries;\n}(HierarchySeries));\nexport { TreemapSeries };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}